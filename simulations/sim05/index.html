<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëŒë¦¼í˜ í€´ì¦ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #FFB6C1 0%, #FFC0CB 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 900px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            text-align: center;
            color: #FF69B4;
            margin-bottom: 20px;
            font-size: 28px;
        }
        
        .problem {
            background: #FFF8DC;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            line-height: 1.8;
            border: 3px solid #FFD700;
        }
        
        .problem h2 {
            color: #FF6347;
            margin-bottom: 15px;
            font-size: 20px;
        }
        
        .problem p {
            color: #333;
            font-size: 16px;
        }
        
        .canvas-container {
            text-align: center;
            margin: 30px 0;
            background: #E6F3FF;
            padding: 20px;
            border-radius: 15px;
            border: 3px solid #87CEEB;
        }
        
        canvas {
            border-radius: 10px;
        }
        
        .input-section {
            margin: 20px 0;
        }
        
        .input-section label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            color: #FF6347;
            font-size: 18px;
        }
        
        .input-section input {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            border: 3px solid #FFB6C1;
            border-radius: 8px;
            transition: border-color 0.3s;
        }
        
        .input-section input:focus {
            outline: none;
            border-color: #FF69B4;
        }
        
        button {
            width: 100%;
            padding: 15px;
            background: #FF69B4;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s;
            margin-top: 10px;
        }
        
        button:hover {
            background: #FF1493;
        }
        
        .result {
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            display: none;
        }
        
        .result.correct {
            background: #D4EDDA;
            border: 3px solid #28A745;
            color: #155724;
        }
        
        .result.incorrect {
            background: #F8D7DA;
            border: 3px solid #DC3545;
            color: #721C24;
        }
        
        .result h3 {
            margin-bottom: 10px;
            font-size: 22px;
        }
        
        .result p {
            line-height: 1.8;
            margin: 5px 0;
            font-size: 15px;
        }
        
        .attempts {
            text-align: center;
            margin-top: 15px;
            font-size: 20px;
            color: #FF6347;
            font-weight: bold;
        }
        
        .reset-btn {
            background: #6C757D;
        }
        
        .reset-btn:hover {
            background: #5A6268;
        }

        .hint-box {
            background: #FFF3CD;
            border: 2px solid #FFC107;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .hint-box h3 {
            color: #856404;
            margin-bottom: 10px;
        }

        .hint-box p {
            color: #856404;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ° ëŒë¦¼í˜ í€´ì¦ˆ - ì¼€ì´í¬ ë¨¹ê¸° ê²Œì„ ğŸ°</h1>
        
        <div class="problem">
            <h2>ğŸ“š ë¬¸ì œ</h2>
            <p>ê·¸ë¦¼ê³¼ ê°™ì´ ê¸¸ì´ 1 mì¸ ìì˜ ì¤‘ì•™ì„ ì‹¤ë¡œ ë§¤ë‹¨ í›„ ë¬¼ì²´ Aë¥¼ ìì˜ ëˆˆê¸ˆ 10 cm ë˜ëŠ” ê³³ì— ë§¤ë‹¬ê³ , ë¬´ê²Œ 20 Nì¸ ë¬¼ì²´ Bë¥¼ ëˆˆê¸ˆ 80 cm ë˜ëŠ” ê³³ì— ë§¤ë‹¬ì•˜ë”ë‹ˆ ë¬¼ë¦¬ëŸ‰ì˜ í‰í˜•ì„ ì´ë£¨ê²Œ ë˜ì—ˆë‹¤.</p>
            <br>
            <p><strong>Aì˜ ë¬´ê²ŒëŠ”?</strong></p>
        </div>
        
        <div class="canvas-container">
            <canvas id="gameCanvas" width="700" height="400"></canvas>
        </div>
        
        <div class="attempts">
            ë‚¨ì€ ê¸°íšŒ: <span id="attempts">3</span>/3 ğŸ¯
        </div>
        
        <div class="input-section">
            <label for="answer">ì •ë‹µì„ ì ìœ¼ì‹œì˜¤ (ë‹¨ìœ„: N)</label>
            <input type="text" id="answer" placeholder="ìˆ«ìë§Œ ì…ë ¥í•˜ì„¸ìš”">
        </div>
        
        <button onclick="checkAnswer()">ì œì¶œí•˜ê¸° ğŸ‰</button>
        <button class="reset-btn" onclick="resetGame()">ë‹¤ì‹œ ì‹œì‘ ğŸ”„</button>
        
        <div id="result" class="result"></div>
    </div>
    
    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        
        let attempts = 3;
        let gameOver = false;
        let cakeFalling = false;
        let cakeFallY = 0;
        
        function drawScene(isCorrect, isFailed) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // ë°°ê²½
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
            if (isFailed) {
                gradient.addColorStop(0, '#D3D3D3');
                gradient.addColorStop(1, '#E8E8E8');
            } else {
                gradient.addColorStop(0, '#E0F7FF');
                gradient.addColorStop(1, '#FFF5F5');
            }
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // ë§‰ëŒ€ (ì)
            ctx.fillStyle = '#D2691E';
            ctx.fillRect(200, 100, 300, 10);
            
            // ì¤‘ì•™ ì¤„
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(350, 50);
            ctx.lineTo(350, 100);
            ctx.stroke();
            
            // ë§‰ëŒ€ ê³ ì •ì 
            ctx.fillStyle = '#FFD700';
            ctx.beginPath();
            ctx.arc(350, 50, 8, 0, Math.PI * 2);
            ctx.fill();
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 2;
            ctx.stroke();
            
            // ëˆˆê¸ˆ í‘œì‹œ
            ctx.fillStyle = '#000';
            ctx.font = 'bold 12px Arial';
            ctx.fillText('0cm', 195, 95);
            ctx.fillText('50cm', 340, 95);
            ctx.fillText('100cm', 480, 95);
            
            // A ìœ„ì¹˜ (10cm)
            const posA = 230;
            // B ìœ„ì¹˜ (80cm)
            const posB = 440;
            
            // ìŒì‹ A (ë„ë„›) - ì™¼ìª½
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(posA, 110);
            ctx.lineTo(posA, 150);
            ctx.stroke();
            
            drawDonut(posA, 165);
            
            // ë¼ë²¨ A
            ctx.fillStyle = '#FF6347';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('A', posA, 195);
            
            // ìŒì‹ B (ì¼€ì´í¬) - ì˜¤ë¥¸ìª½
            let cakeY = 165;
            if (isCorrect && cakeFalling) {
                cakeY = 165 + cakeFallY;
            }
            
            if (!isCorrect || !cakeFalling || cakeFallY < 100) {
                if (!isCorrect || cakeFallY < 100) {
                    ctx.strokeStyle = '#000';
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    ctx.moveTo(posB, 110);
                    ctx.lineTo(posB, Math.min(150, cakeY - 15));
                    ctx.stroke();
                }
                
                drawCake(posB, cakeY);
                
                // ë¼ë²¨ B
                ctx.fillStyle = '#FF69B4';
                ctx.font = 'bold 16px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('B (20N)', posB, cakeY + 35);
            }
            
            // ì‚¬ëŒ A - ì™¼ìª½
            const personAStatus = isFailed ? 'crying' : 'waiting';
            drawPerson(posA, 310, personAStatus, '#FFB6C1');
            
            // ì‚¬ëŒ B - ì˜¤ë¥¸ìª½
            let personBStatus = 'waiting';
            if (isFailed) {
                personBStatus = 'crying';
            } else if (isCorrect && cakeFalling && cakeFallY >= 100) {
                personBStatus = 'happy';
            }
            drawPerson(posB, 310, personBStatus, '#87CEEB');
            
            // ì •ë‹µì¼ ë•Œ í•˜íŠ¸ íš¨ê³¼
            if (isCorrect && cakeFalling && cakeFallY >= 100) {
                drawHearts();
            }
            
            // ì‹¤íŒ¨í–ˆì„ ë•Œ ëˆˆë¬¼ íš¨ê³¼
            if (isFailed) {
                drawTears(posA, 310);
                drawTears(posB, 310);
            }
        }
        
        function drawDonut(x, y) {
            // ë„ë„› ì™¸ë¶€
            ctx.fillStyle = '#FFB347';
            ctx.beginPath();
            ctx.arc(x, y, 20, 0, Math.PI * 2);
            ctx.fill();
            ctx.strokeStyle = '#FF8C00';
            ctx.lineWidth = 2;
            ctx.stroke();
            
            // ë„ë„› êµ¬ë©
            ctx.fillStyle = '#FFF8DC';
            ctx.beginPath();
            ctx.arc(x, y, 8, 0, Math.PI * 2);
            ctx.fill();
            
            // ì´ˆì½” ì¥ì‹
            for (let i = 0; i < 8; i++) {
                const angle = (Math.PI * 2 / 8) * i;
                const px = x + Math.cos(angle) * 15;
                const py = y + Math.sin(angle) * 15;
                ctx.fillStyle = '#8B4513';
                ctx.beginPath();
                ctx.arc(px, py, 3, 0, Math.PI * 2);
                ctx.fill();
            }
        }
        
        function drawCake(x, y) {
            // ì¼€ì´í¬ ë² ì´ìŠ¤
            ctx.fillStyle = '#FFE4B5';
            ctx.fillRect(x - 25, y - 15, 50, 30);
            ctx.strokeStyle = '#DEB887';
            ctx.lineWidth = 2;
            ctx.strokeRect(x - 25, y - 15, 50, 30);
            
            // í¬ë¦¼
            ctx.fillStyle = '#FFF';
            ctx.beginPath();
            ctx.moveTo(x - 25, y - 15);
            for (let i = 0; i <= 5; i++) {
                const px = x - 25 + (50 / 5) * i;
                const py = i % 2 === 0 ? y - 20 : y - 15;
                ctx.lineTo(px, py);
            }
            ctx.fill();
            ctx.stroke();
            
            // ë”¸ê¸°
            ctx.fillStyle = '#FF6B6B';
            ctx.beginPath();
            ctx.arc(x, y - 5, 6, 0, Math.PI * 2);
            ctx.fill();
            
            // ë”¸ê¸° ê¼­ì§€
            ctx.fillStyle = '#90EE90';
            ctx.beginPath();
            ctx.moveTo(x - 3, y - 8);
            ctx.lineTo(x, y - 12);
            ctx.lineTo(x + 3, y - 8);
            ctx.fill();
        }
        
        function drawPerson(x, y, status, color) {
            // ëª¸í†µ
            ctx.fillStyle = color;
            ctx.fillRect(x - 15, y, 30, 40);
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 2;
            ctx.strokeRect(x - 15, y, 30, 40);
            
            // ë¨¸ë¦¬
            ctx.fillStyle = '#FFDAB9';
            ctx.beginPath();
            ctx.arc(x, y - 15, 20, 0, Math.PI * 2);
            ctx.fill();
            ctx.stroke();
            
            // ëˆˆ
            if (status === 'crying') {
                // ìš°ëŠ” ëˆˆ (X ëª¨ì–‘)
                ctx.strokeStyle = '#000';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(x - 10, y - 20);
                ctx.lineTo(x - 6, y - 16);
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(x - 6, y - 20);
                ctx.lineTo(x - 10, y - 16);
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(x + 6, y - 20);
                ctx.lineTo(x + 10, y - 16);
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(x + 10, y - 20);
                ctx.lineTo(x + 6, y - 16);
                ctx.stroke();
            } else {
                // ì¼ë°˜ ëˆˆ
                ctx.fillStyle = '#000';
                ctx.beginPath();
                ctx.arc(x - 8, y - 18, 3, 0, Math.PI * 2);
                ctx.fill();
                ctx.beginPath();
                ctx.arc(x + 8, y - 18, 3, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // ì…
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 2;
            ctx.beginPath();
            if (status === 'happy') {
                // í–‰ë³µí•œ ì… (ì›ƒìŒ)
                ctx.arc(x, y - 8, 10, 0.2, Math.PI - 0.2);
            } else if (status === 'crying') {
                // ìš°ëŠ” ì… (ì—­ë°©í–¥ ì•„ì¹˜)
                ctx.arc(x, y - 2, 8, 1.2, Math.PI - 1.2, true);
            } else {
                // ê¸°ëŒ€í•˜ëŠ” ì… (ë²Œë¦¼)
                ctx.arc(x, y - 8, 8, 0.3, Math.PI - 0.3);
            }
            ctx.stroke();
            
            // íŒ”
            ctx.strokeStyle = '#FFDAB9';
            ctx.lineWidth = 5;
            ctx.beginPath();
            ctx.moveTo(x - 15, y + 10);
            if (status === 'happy') {
                ctx.lineTo(x - 25, y + 5);
            } else if (status === 'crying') {
                ctx.lineTo(x - 20, y - 5);
            } else {
                ctx.lineTo(x - 25, y + 20);
            }
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(x + 15, y + 10);
            if (status === 'happy') {
                ctx.lineTo(x + 25, y + 5);
            } else if (status === 'crying') {
                ctx.lineTo(x + 20, y - 5);
            } else {
                ctx.lineTo(x + 25, y + 20);
            }
            ctx.stroke();
            
            // ë‹¤ë¦¬
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 5;
            ctx.beginPath();
            ctx.moveTo(x - 8, y + 40);
            ctx.lineTo(x - 8, y + 60);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(x + 8, y + 40);
            ctx.lineTo(x + 8, y + 60);
            ctx.stroke();
        }
        
        function drawHearts() {
            const hearts = [
                {x: 100, y: 100}, {x: 600, y: 120}, {x: 150, y: 200},
                {x: 550, y: 180}, {x: 350, y: 320}
            ];
            
            hearts.forEach(heart => {
                ctx.fillStyle = '#FF69B4';
                ctx.beginPath();
                ctx.moveTo(heart.x, heart.y + 5);
                ctx.bezierCurveTo(heart.x, heart.y, heart.x - 5, heart.y - 5, heart.x - 10, heart.y - 5);
                ctx.bezierCurveTo(heart.x - 15, heart.y - 5, heart.x - 15, heart.y + 2, heart.x - 15, heart.y + 2);
                ctx.bezierCurveTo(heart.x - 15, heart.y + 7, heart.x - 10, heart.y + 12, heart.x, heart.y + 17);
                ctx.bezierCurveTo(heart.x + 10, heart.y + 12, heart.x + 15, heart.y + 7, heart.x + 15, heart.y + 2);
                ctx.bezierCurveTo(heart.x + 15, heart.y + 2, heart.x + 15, heart.y - 5, heart.x + 10, heart.y - 5);
                ctx.bezierCurveTo(heart.x + 5, heart.y - 5, heart.x, heart.y, heart.x, heart.y + 5);
                ctx.fill();
            });
        }
        
        function drawTears(x, y) {
            // ëˆˆë¬¼ ë°©ìš¸
            ctx.fillStyle = '#4DB8FF';
            ctx.beginPath();
            ctx.arc(x - 12, y - 8, 3, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(x - 12, y - 2, 3, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(x + 12, y - 8, 3, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(x + 12, y - 2, 3, 0, Math.PI * 2);
            ctx.fill();
        }
        
        function animateCakeFall() {
            if (cakeFallY < 150) {
                cakeFallY += 5;
                drawScene(true, false);
                requestAnimationFrame(animateCakeFall);
            }
        }
        
        function checkAnswer() {
            if (gameOver) return;
            
            const answer = document.getElementById('answer').value.trim();
            const resultDiv = document.getElementById('result');
            
            if (answer === '') {
                alert('ë‹µì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }
            
            if (answer === '15') {
                resultDiv.className = 'result correct';
                resultDiv.style.display = 'block';
                resultDiv.innerHTML = `
                    <h3>ğŸ‰ ì •ë‹µì…ë‹ˆë‹¤! ì¼€ì´í¬ë¥¼ ë¨¹ì—ˆì–´ìš”! ğŸ°</h3>
                    <p><strong>í’€ì´:</strong></p>
                    <p>â€¢ ëŒë¦¼í˜ = í˜ Ã— íšŒì „ì¶•ìœ¼ë¡œë¶€í„°ì˜ ê±°ë¦¬</p>
                    <p>â€¢ ë§‰ëŒ€ì˜ ì¤‘ì‹¬(50cm)ì´ ë°›ì¹¨ì ì…ë‹ˆë‹¤.</p>
                    <p>â€¢ Aì˜ ìœ„ì¹˜: 10cm â†’ ì¤‘ì‹¬ì—ì„œ 40cm = 0.4m ë–¨ì–´ì§</p>
                    <p>â€¢ Bì˜ ìœ„ì¹˜: 80cm â†’ ì¤‘ì‹¬ì—ì„œ 30cm = 0.3m ë–¨ì–´ì§</p>
                    <p>â€¢ í‰í˜• ì¡°ê±´: Aì˜ ëŒë¦¼í˜ = Bì˜ ëŒë¦¼í˜</p>
                    <p>â€¢ A Ã— 0.4 = 20 Ã— 0.3</p>
                    <p>â€¢ A Ã— 0.4 = 6</p>
                    <p>â€¢ A = 6 Ã· 0.4</p>
                    <p>â€¢ <strong>A = 15 N</strong></p>
                `;
                cakeFalling = true;
                cakeFallY = 0;
                animateCakeFall();
                gameOver = true;
            } else {
                attempts--;
                document.getElementById('attempts').textContent = attempts;
                
                if (attempts === 0) {
                    resultDiv.className = 'result incorrect';
                    resultDiv.style.display = 'block';
                    resultDiv.innerHTML = `
                        <h3>ğŸ˜¢ ëª¨ë“  ê¸°íšŒë¥¼ ì†Œì§„í–ˆìŠµë‹ˆë‹¤!</h3>
                        <p><strong>ì •ë‹µ: 15 N</strong></p>
                        <p><strong>í’€ì´:</strong></p>
                        <p>â€¢ ë§‰ëŒ€ì˜ ì¤‘ì•™(50cm)ì´ ë°›ì¹¨ì ì…ë‹ˆë‹¤.</p>
                        <p>â€¢ Aì˜ ìœ„ì¹˜: 10cm â†’ ì¤‘ì‹¬ì—ì„œ 40cm(0.4m) ë–¨ì–´ì§</p>
                        <p>â€¢ Bì˜ ìœ„ì¹˜: 80cm â†’ ì¤‘ì‹¬ì—ì„œ 30cm(0.3m) ë–¨ì–´ì§</p>
                        <p>â€¢ í‰í˜• ì¡°ê±´: A Ã— 0.4 = 20 Ã— 0.3</p>
                        <p>â€¢ A Ã— 0.4 = 6</p>
                        <p>â€¢ A = 6 Ã· 0.4 = <strong>15 N</strong></p>
                    `;
                    gameOver = true;
                    drawScene(false, true);
                } else {
                    resultDiv.className = 'result incorrect';
                    resultDiv.style.display = 'block';
                    resultDiv.innerHTML = `
                        <h3>âŒ í‹€ë ¸ìŠµë‹ˆë‹¤!</h3>
                        <p><strong>íŒíŠ¸:</strong> ëŒë¦¼í˜ = í˜ Ã— íšŒì „ì¶•ìœ¼ë¡œë¶€í„°ì˜ ê±°ë¦¬</p>
                        <p>â€¢ ë§‰ëŒ€ì˜ ì¤‘ì‹¬(50cm)ì´ ë°›ì¹¨ì ì…ë‹ˆë‹¤.</p>
                        <p>â€¢ AëŠ” ì¤‘ì‹¬ì—ì„œ 40cm(0.4m) ë–¨ì–´ì ¸ ìˆìŠµë‹ˆë‹¤.</p>
                        <p>â€¢ BëŠ” ì¤‘ì‹¬ì—ì„œ 30cm(0.3m) ë–¨ì–´ì ¸ ìˆìŠµë‹ˆë‹¤.</p>
                        <p>â€¢ í‰í˜• ì¡°ê±´: A Ã— 0.4 = 20 Ã— 0.3</p>
                        <p>â€¢ ê³„ì‚°ì„ ë‹¤ì‹œ í™•ì¸í•´ë³´ì„¸ìš”!</p>
                        <p>ë‚¨ì€ ê¸°íšŒ: ${attempts}ë²ˆ ğŸ¯</p>
                    `;
                }
                drawScene(false, false);
            }
        }
        
        function resetGame() {
            attempts = 3;
            gameOver = false;
            cakeFalling = false;
            cakeFallY = 0;
            document.getElementById('attempts').textContent = attempts;
            document.getElementById('answer').value = '';
            document.getElementById('result').style.display = 'none';
            drawScene(false, false);
        }
        
        // ì—”í„°í‚¤ë¡œ ì œì¶œ
        document.getElementById('answer').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });
        
        // ì´ˆê¸° ê·¸ë¦¬ê¸°
        drawScene(false, false);
    </script>
</body>
</html>