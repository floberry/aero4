<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë“±ì†ì›ìš´ë™ ë¬¸ì œ ì‹œë®¬ë ˆì´ì…˜</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 40px;
            max-width: 900px;
            width: 100%;
        }
        
        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 10px;
            font-size: 28px;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }
        
        .visual-section {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .canvas-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .canvas-label {
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 14px;
        }
        
        canvas {
            border: 2px solid #667eea;
            border-radius: 10px;
            background: white;
            display: block;
            margin: 0 auto;
        }
        
        .problem-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            border-left: 5px solid #667eea;
        }
        
        .problem-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
        }
        
        .given-values {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }
        
        .value-item {
            margin: 8px 0;
            font-size: 16px;
            color: #444;
        }
        
        .question {
            font-weight: bold;
            color: #764ba2;
            margin-top: 15px;
            font-size: 16px;
        }
        
        .input-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .input-group {
            display: flex;
            flex-direction: column;
        }
        
        label {
            font-weight: bold;
            margin-bottom: 5px;
            color: #333;
            font-size: 14px;
        }
        
        input {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        button {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .new-problem-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .new-problem-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .check-btn {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }
        
        .check-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(245, 87, 108, 0.4);
        }
        
        .feedback {
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 16px;
            display: none;
            animation: slideIn 0.5s;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .feedback.correct {
            background: #d4edda;
            border: 2px solid #28a745;
            color: #155724;
            display: block;
        }
        
        .feedback.incorrect {
            background: #f8d7da;
            border: 2px solid #dc3545;
            color: #721c24;
            display: block;
        }
        
        .formula-hint {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            font-size: 14px;
            color: #856404;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>âš™ï¸ ë“±ì†ì›ìš´ë™ ë¬¸ì œ ì—°ìŠµ</h1>
        <p class="subtitle">ë¬¼ë¦¬í•™2 - ì›ìš´ë™ ê°œë… ë§ˆìŠ¤í„°í•˜ê¸°</p>
        
        <div class="visual-section">
            <div class="canvas-container">
                <div class="canvas-label">ğŸ¯ ì›ìš´ë™ (ìœ„ì—ì„œ ë³¸ ëª¨ìŠµ)</div>
                <canvas id="motionCanvas" width="450" height="450"></canvas>
            </div>
            <div class="canvas-container">
                <div class="canvas-label">ğŸ“ í…Œì´ë¸” ìœ„ ì›ìš´ë™ (ì˜†ì—ì„œ ë³¸ ëª¨ìŠµ)</div>
                <canvas id="sideCanvas" width="450" height="300"></canvas>
            </div>
        </div>
        
        <div class="problem-section">
            <div class="problem-title">ğŸ“‹ ë¬¸ì œ</div>
            <div class="given-values">
                <div class="value-item">ğŸ”µ ë¬¼ì²´ Bì˜ ì§ˆëŸ‰(m_B): <strong><span id="massBValue"></span> kg</strong></div>
                <div class="value-item">ğŸ“ ì›ìš´ë™ ë°˜ì§€ë¦„(r): <strong><span id="radiusValue"></span> m</strong></div>
                <div class="value-item">âš¡ ë¬¼ì²´ Bì˜ ì†ë ¥(v): <strong><span id="velocityValue"></span> m/s</strong></div>
            </div>
            <div class="question">ì§ˆë¬¸: í…Œì´ë¸” ìœ„ì—ì„œ ì›ìš´ë™í•˜ëŠ” ë¬¼ì²´ Bì™€ ì¤„ë¡œ ì—°ê²°ëœ ì¶” Aì˜ ì§ˆëŸ‰(m_A)ì„ êµ¬í•˜ì‹œì˜¤. (ì†Œìˆ˜ì  ë‘˜ì§¸ ìë¦¬ê¹Œì§€ ë°˜ì˜¬ë¦¼, ì¤‘ë ¥ê°€ì†ë„ g = 10 m/sÂ²)</div>
        </div>
        
        <div class="input-section">
            <div class="input-group">
                <label>ì¶” Aì˜ ì§ˆëŸ‰ (kg)</label>
                <input type="number" id="massAInput" step="0.01" placeholder="ì§ˆëŸ‰ì„ ì…ë ¥í•˜ì„¸ìš”">
            </div>
        </div>
        
        <div class="button-group">
            <button class="new-problem-btn" onclick="generateNewProblem()">ğŸ”„ ìƒˆ ë¬¸ì œ</button>
            <button class="check-btn" onclick="checkAnswer()">âœ“ ì •ë‹µ í™•ì¸</button>
        </div>
        
        <div id="feedback" class="feedback"></div>
        
        <div class="formula-hint">
            <strong>ğŸ’¡ ê³µì‹ íŒíŠ¸:</strong><br>
            â€¢ êµ¬ì‹¬ë ¥: F = m_B Ã— vÂ² / r<br>
            â€¢ ì¥ë ¥: T = m_A Ã— g (ì¶” Aê°€ ì •ì§€ ìƒíƒœ)<br>
            â€¢ êµ¬ì‹¬ë ¥ = ì¥ë ¥: m_B Ã— vÂ² / r = m_A Ã— g
        </div>
    </div>
    
    <script>
        let currentProblem = {
            massB: 0,
            radius: 0,
            velocity: 0,
            massA: 0
        };
        
        const canvas = document.getElementById('motionCanvas');
        const ctx = canvas.getContext('2d');
        const sideCanvas = document.getElementById('sideCanvas');
        const sideCtx = sideCanvas.getContext('2d');
        let angle = 0;
        let animationId = null;
        
        function generateNewProblem() {
            // ëœë¤ ê°’ ìƒì„±
            currentProblem.massB = (Math.random() * 1.5 + 0.5).toFixed(2); // 0.5~2 kg
            currentProblem.radius = (Math.random() * 0.8 + 0.4).toFixed(2); // 0.4~1.2 m
            currentProblem.velocity = (Math.random() * 4 + 2).toFixed(2); // 2~6 m/s
            
            // ì •ë‹µ ê³„ì‚°: m_A = m_B Ã— vÂ² / (r Ã— g)
            const mB = parseFloat(currentProblem.massB);
            const r = parseFloat(currentProblem.radius);
            const v = parseFloat(currentProblem.velocity);
            const g = 10;
            currentProblem.massA = (mB * v * v / (r * g)).toFixed(2);
            
            // í™”ë©´ì— í‘œì‹œ
            document.getElementById('massBValue').textContent = currentProblem.massB;
            document.getElementById('radiusValue').textContent = currentProblem.radius;
            document.getElementById('velocityValue').textContent = currentProblem.velocity;
            
            // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
            document.getElementById('massAInput').value = '';
            
            // í”¼ë“œë°± ìˆ¨ê¸°ê¸°
            document.getElementById('feedback').className = 'feedback';
            document.getElementById('feedback').style.display = 'none';
            
            // ì• ë‹ˆë©”ì´ì…˜ ì¬ì‹œì‘
            if (animationId) {
                cancelAnimationFrame(animationId);
            }
            angle = 0;
            drawSideView();
            animate();
        }
        
        function animate() {
            // ì²« ë²ˆì§¸ ìº”ë²„ìŠ¤: ìœ„ì—ì„œ ë³¸ ì›ìš´ë™
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const displayRadius = 140;
            
            // ì› ê·¸ë¦¬ê¸°
            ctx.beginPath();
            ctx.arc(centerX, centerY, displayRadius, 0, 2 * Math.PI);
            ctx.strokeStyle = '#667eea';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // ì¤‘ì‹¬ì 
            ctx.beginPath();
            ctx.arc(centerX, centerY, 5, 0, 2 * Math.PI);
            ctx.fillStyle = '#764ba2';
            ctx.fill();
            
            // ìš´ë™í•˜ëŠ” ë¬¼ì²´
            const objX = centerX + displayRadius * Math.cos(angle);
            const objY = centerY + displayRadius * Math.sin(angle);
            
            ctx.beginPath();
            ctx.arc(objX, objY, 12, 0, 2 * Math.PI);
            ctx.fillStyle = '#f5576c';
            ctx.fill();
            ctx.strokeStyle = 'white';
            ctx.lineWidth = 3;
            ctx.stroke();
            
            // ë°˜ì§€ë¦„ ì„ 
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.lineTo(objX, objY);
            ctx.strokeStyle = '#999';
            ctx.lineWidth = 1;
            ctx.setLineDash([3, 3]);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // ì†ë„ ë²¡í„°
            const velX = -displayRadius * Math.sin(angle) * 0.5;
            const velY = displayRadius * Math.cos(angle) * 0.5;
            ctx.beginPath();
            ctx.moveTo(objX, objY);
            ctx.lineTo(objX + velX, objY + velY);
            ctx.strokeStyle = '#28a745';
            ctx.lineWidth = 3;
            ctx.stroke();
            
            // êµ¬ì‹¬ê°€ì†ë„ ë²¡í„°
            const accX = -displayRadius * Math.cos(angle) * 0.3;
            const accY = -displayRadius * Math.sin(angle) * 0.3;
            ctx.beginPath();
            ctx.moveTo(objX, objY);
            ctx.lineTo(objX + accX, objY + accY);
            ctx.strokeStyle = '#dc3545';
            ctx.lineWidth = 3;
            ctx.stroke();
            
            // ë ˆì´ë¸”
            ctx.font = 'bold 14px Malgun Gothic';
            ctx.fillStyle = '#333';
            ctx.fillText('B', objX + 15, objY - 15);
            ctx.fillText('r = ' + currentProblem.radius + ' m', centerX - 60, centerY - 10);
            ctx.fillStyle = '#28a745';
            ctx.fillText('v', objX + velX + 10, objY + velY);
            ctx.fillStyle = '#dc3545';
            ctx.fillText('F', objX + accX - 20, objY + accY);
            
            // ì£¼ê¸°ì— ë”°ë¼ ê°ì†ë„ ì¡°ì ˆ (ì†ë ¥ ê¸°ë°˜)
            const r = parseFloat(currentProblem.radius);
            const v = parseFloat(currentProblem.velocity);
            const omega = v / r; // ê°ì†ë„
            angle += omega * 0.05;
            
            animationId = requestAnimationFrame(animate);
        }
        
        function drawSideView() {
            // ë‘ ë²ˆì§¸ ìº”ë²„ìŠ¤: ì˜†ì—ì„œ ë³¸ í…Œì´ë¸” ìœ„ ì›ìš´ë™ (ì •ì )
            sideCtx.clearRect(0, 0, sideCanvas.width, sideCanvas.height);
            
            const sideCenterX = sideCanvas.width / 2;
            const tableY = sideCanvas.height * 0.5;
            const sideRadius = 140;
            
            // í…Œì´ë¸” ê·¸ë¦¬ê¸°
            sideCtx.fillStyle = '#8B4513';
            sideCtx.fillRect(sideCenterX - 200, tableY, 400, 15);
            
            // í…Œì´ë¸” ë‹¤ë¦¬
            sideCtx.fillRect(sideCenterX - 190, tableY + 15, 10, 80);
            sideCtx.fillRect(sideCenterX + 180, tableY + 15, 10, 80);
            
            // í…Œì´ë¸” ì¤‘ì•™ êµ¬ë© (ë„ë¥´ë˜)
            sideCtx.fillStyle = '#666';
            sideCtx.fillRect(sideCenterX - 5, tableY, 10, 15);
            
            // ì›ìš´ë™í•˜ëŠ” ë¬¼ì²´ Bì˜ ìœ„ì¹˜ (ê³ ì • ìœ„ì¹˜)
            const fixedAngle = Math.PI / 4;
            const sideObjX = sideCenterX + sideRadius * Math.cos(fixedAngle);
            const sideObjY = tableY;
            
            // ì›ìš´ë™ ê²½ë¡œ (í…Œì´ë¸” ìœ„)
            sideCtx.beginPath();
            sideCtx.ellipse(sideCenterX, tableY, sideRadius, sideRadius * 0.25, 0, 0, 2 * Math.PI);
            sideCtx.strokeStyle = '#667eea';
            sideCtx.lineWidth = 2;
            sideCtx.setLineDash([5, 5]);
            sideCtx.stroke();
            sideCtx.setLineDash([]);
            
            // ì¤„ (Bì—ì„œ ì¤‘ì‹¬ìœ¼ë¡œ)
            sideCtx.beginPath();
            sideCtx.moveTo(sideObjX, sideObjY);
            sideCtx.lineTo(sideCenterX, tableY);
            sideCtx.strokeStyle = '#999';
            sideCtx.lineWidth = 2;
            sideCtx.stroke();
            
            // ì¤„ (ì¤‘ì‹¬ì—ì„œ ì•„ë˜ë¡œ ì¶” Aê¹Œì§€)
            const weightAY = tableY + 100;
            sideCtx.beginPath();
            sideCtx.moveTo(sideCenterX, tableY + 15);
            sideCtx.lineTo(sideCenterX, weightAY);
            sideCtx.strokeStyle = '#999';
            sideCtx.lineWidth = 2;
            sideCtx.stroke();
            
            // ë¬¼ì²´ B
            sideCtx.beginPath();
            sideCtx.arc(sideObjX, sideObjY, 12, 0, 2 * Math.PI);
            sideCtx.fillStyle = '#f5576c';
            sideCtx.fill();
            sideCtx.strokeStyle = 'white';
            sideCtx.lineWidth = 3;
            sideCtx.stroke();
            
            // ì¶” A (ì§ì‚¬ê°í˜•ìœ¼ë¡œ í‘œí˜„)
            sideCtx.fillStyle = '#4a90e2';
            sideCtx.fillRect(sideCenterX - 15, weightAY, 30, 40);
            sideCtx.strokeStyle = 'white';
            sideCtx.lineWidth = 2;
            sideCtx.strokeRect(sideCenterX - 15, weightAY, 30, 40);
            
            // êµ¬ì‹¬ë ¥ ë²¡í„° (Bì—ì„œ ì¤‘ì‹¬ ë°©í–¥)
            const forceMag = 50;
            const forceX = -forceMag * Math.cos(fixedAngle);
            const forceY = 0;
            
            sideCtx.beginPath();
            sideCtx.moveTo(sideObjX, sideObjY);
            sideCtx.lineTo(sideObjX + forceX, sideObjY + forceY);
            sideCtx.strokeStyle = '#dc3545';
            sideCtx.lineWidth = 3;
            sideCtx.stroke();
            
            // í™”ì‚´í‘œ
            const arrowSize = 8;
            sideCtx.beginPath();
            sideCtx.moveTo(sideObjX + forceX, sideObjY);
            sideCtx.lineTo(sideObjX + forceX + arrowSize, sideObjY - arrowSize/2);
            sideCtx.lineTo(sideObjX + forceX + arrowSize, sideObjY + arrowSize/2);
            sideCtx.closePath();
            sideCtx.fillStyle = '#dc3545';
            sideCtx.fill();
            
            // ì¤‘ë ¥ ë²¡í„° (ì¶” Aì—ì„œ ì•„ë˜ë¡œ)
            const gravityMag = 40;
            sideCtx.beginPath();
            sideCtx.moveTo(sideCenterX, weightAY + 20);
            sideCtx.lineTo(sideCenterX, weightAY + 20 + gravityMag);
            sideCtx.strokeStyle = '#ff6b6b';
            sideCtx.lineWidth = 3;
            sideCtx.stroke();
            
            // ì¤‘ë ¥ í™”ì‚´í‘œ
            sideCtx.beginPath();
            sideCtx.moveTo(sideCenterX, weightAY + 20 + gravityMag);
            sideCtx.lineTo(sideCenterX - arrowSize/2, weightAY + 20 + gravityMag - arrowSize);
            sideCtx.lineTo(sideCenterX + arrowSize/2, weightAY + 20 + gravityMag - arrowSize);
            sideCtx.closePath();
            sideCtx.fillStyle = '#ff6b6b';
            sideCtx.fill();
            
            // ë ˆì´ë¸”
            sideCtx.font = 'bold 16px Malgun Gothic';
            sideCtx.fillStyle = '#333';
            sideCtx.fillText('B', sideObjX + 15, sideObjY - 15);
            sideCtx.fillText('A', sideCenterX + 20, weightAY + 25);
            
            sideCtx.font = 'bold 14px Malgun Gothic';
            sideCtx.fillStyle = '#dc3545';
            sideCtx.fillText('T (ì¥ë ¥)', sideObjX + forceX - 20, sideObjY - 15);
            
            sideCtx.fillStyle = '#ff6b6b';
            sideCtx.fillText('m_A g', sideCenterX + 15, weightAY + 50);
            
            sideCtx.fillStyle = '#333';
            sideCtx.fillText('r', sideCenterX + 50, tableY - 10);
        }
        
        function checkAnswer() {
            const userMassA = parseFloat(document.getElementById('massAInput').value);
            
            if (isNaN(userMassA)) {
                alert('ì¶” Aì˜ ì§ˆëŸ‰ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }
            
            const correctMassA = parseFloat(currentProblem.massA);
            const error = Math.abs(userMassA - correctMassA) / correctMassA * 100;
            
            const feedback = document.getElementById('feedback');
            
            const mB = parseFloat(currentProblem.massB);
            const r = parseFloat(currentProblem.radius);
            const v = parseFloat(currentProblem.velocity);
            const g = 10;
            
            if (error < 2) {
                feedback.className = 'feedback correct';
                feedback.innerHTML = `
                    <strong>ğŸ‰ ì •ë‹µì…ë‹ˆë‹¤!</strong><br><br>
                    âœ“ ì¶” Aì˜ ì§ˆëŸ‰: ${correctMassA} kg<br>
                    <br>í›Œë¥­í•©ë‹ˆë‹¤! ì›ìš´ë™ê³¼ ì¥ë ¥ì˜ ê´€ê³„ë¥¼ ì˜ ì´í•´í•˜ê³  ìˆìŠµë‹ˆë‹¤.
                `;
            } else {
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = `
                    <strong>âŒ í‹€ë ¸ìŠµë‹ˆë‹¤!</strong><br><br>
                    <strong>ğŸ“ ì •ë‹µ ë° í’€ì´:</strong><br><br>
                    <strong>1ï¸âƒ£ ë¬¼ì²´ Bì— ì‘ìš©í•˜ëŠ” êµ¬ì‹¬ë ¥</strong><br>
                    êµ¬ì‹¬ë ¥: F = m_B Ã— vÂ² / r<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F = ${mB} Ã— ${v}Â² / ${r}<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F = ${mB} Ã— ${(v * v).toFixed(2)} / ${r}<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;F = ${(mB * v * v / r).toFixed(2)} N<br><br>
                    
                    <strong>2ï¸âƒ£ ì¶” Aì˜ ë¬´ê²Œ (ì¥ë ¥ê³¼ ê°™ìŒ)</strong><br>
                    ì¥ë ¥ T = êµ¬ì‹¬ë ¥ F (ì¤„ì´ ì—°ê²°ë˜ì–´ ìˆìœ¼ë¯€ë¡œ)<br>
                    m_A Ã— g = ${(mB * v * v / r).toFixed(2)}<br>
                    m_A = ${(mB * v * v / r).toFixed(2)} / ${g}<br>
                    <strong>ì •ë‹µ: m_A = ${correctMassA} kg</strong><br>
                    ì…ë ¥ê°’: ${userMassA} kg âœ—
                `;
            }
            
            feedback.style.display = 'block';
        }
        
        // ì—”í„°í‚¤ë¡œ ì •ë‹µ í™•ì¸
        document.getElementById('massAInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });
        
        // ì´ˆê¸° ë¬¸ì œ ìƒì„±
        generateNewProblem();
    </script>
</body>
</html>