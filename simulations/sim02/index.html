<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëŒë¦¼í˜ í‰í˜• ì‹œë®¬ë ˆì´ì…˜</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 40px;
            max-width: 900px;
            width: 100%;
        }
        
        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 30px;
            font-size: 28px;
        }
        
        .problem-area {
            background: #f8f9ff;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            border: 2px solid #667eea;
        }
        
        .problem-text {
            font-size: 16px;
            line-height: 1.8;
            color: #333;
            margin-bottom: 20px;
        }
        
        .canvas-area {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            display: flex;
            justify-content: center;
        }
        
        canvas {
            border: 2px solid #ddd;
            border-radius: 8px;
        }
        
        .input-area {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            font-weight: bold;
            color: #555;
            margin-bottom: 8px;
            font-size: 15px;
        }
        
        input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        input[type="number"]:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }
        
        button {
            flex: 1;
            padding: 15px;
            font-size: 16px;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-new {
            background: #667eea;
            color: white;
        }
        
        .btn-new:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-check {
            background: #48bb78;
            color: white;
        }
        
        .btn-check:hover {
            background: #38a169;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(72, 187, 120, 0.4);
        }
        
        .btn-solution {
            background: #f39c12;
            color: white;
        }
        
        .btn-solution:hover {
            background: #e67e22;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(243, 156, 18, 0.4);
        }
        
        .feedback {
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            text-align: center;
            display: none;
        }
        
        .feedback.correct {
            background: #c6f6d5;
            color: #22543d;
            border: 2px solid #48bb78;
            display: block;
        }
        
        .feedback.incorrect {
            background: #fed7d7;
            color: #742a2a;
            border: 2px solid #f56565;
            display: block;
        }
        
        .feedback.solution {
            background: #fef5e7;
            color: #7d6608;
            border: 2px solid #f39c12;
            display: block;
            text-align: left;
        }
        
        .solution-step {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 5px;
            border-left: 3px solid #f39c12;
        }
        
        .hint {
            background: #fef5e7;
            border-left: 4px solid #f39c12;
            padding: 15px;
            margin-top: 15px;
            border-radius: 5px;
            font-size: 14px;
            color: #555;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ ëŒë¦¼í˜ í‰í˜• ë¬¸ì œ ì—°ìŠµ</h1>
        
        <div class="problem-area">
            <div class="problem-text" id="problemText"></div>
            
            <div class="canvas-area">
                <canvas id="balanceCanvas" width="700" height="250"></canvas>
            </div>
            
            <div class="hint">
                ğŸ’¡ íŒíŠ¸: í‰í˜• ìƒíƒœì—ì„œ íšŒì „ì¶•ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì‹œê³„ ë°©í–¥ ëŒë¦¼í˜ê³¼ ë°˜ì‹œê³„ ë°©í–¥ ëŒë¦¼í˜ì´ ê°™ìŠµë‹ˆë‹¤. (ëŒë¦¼í˜ = í˜ Ã— ê±°ë¦¬)
            </div>
        </div>
        
        <div class="input-area">
            <div class="input-group">
                <label for="answerInput">ë¬¼ì²´ Aì˜ ë¬´ê²Œ (N):</label>
                <input type="number" id="answerInput" step="0.1" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”">
            </div>
            
            <div class="button-group">
                <button class="btn-new" onclick="generateNewProblem()">ğŸ”„ ìƒˆ ë¬¸ì œ</button>
                <button class="btn-check" onclick="checkAnswer()">âœ“ ì •ë‹µ í™•ì¸</button>
                <button class="btn-solution" onclick="showSolution()">ğŸ“– í•´ì„¤ ë³´ê¸°</button>
            </div>
            
            <div class="feedback" id="feedback"></div>
        </div>
    </div>

    <script>
        let currentProblem = {};
        
        function generateNewProblem() {
            // ëœë¤ ê°’ ìƒì„±
            const rodLength = 100; // 1m = 100cm
            const pivotPos = 50; // ì¤‘ì•™ = 50cm
            
            // Aì˜ ìœ„ì¹˜ (10cm ~ 40cm)
            const posA = Math.floor(Math.random() * 31) + 10;
            
            // Bì˜ ìœ„ì¹˜ (60cm ~ 90cm)
            const posB = Math.floor(Math.random() * 31) + 60;
            
            // Bì˜ ë¬´ê²Œ (10N ~ 50N, 5N ë‹¨ìœ„)
            const weightB = (Math.floor(Math.random() * 9) + 2) * 5;
            
            // Aì˜ ë¬´ê²Œ ê³„ì‚° (í‰í˜• ì¡°ê±´)
            const distanceA = Math.abs(pivotPos - posA);
            const distanceB = Math.abs(posB - pivotPos);
            const weightA = (weightB * distanceB) / distanceA;
            
            currentProblem = {
                posA: posA,
                posB: posB,
                weightB: weightB,
                weightA: weightA,
                distanceA: distanceA,
                distanceB: distanceB
            };
            
            // ë¬¸ì œ í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
            document.getElementById('problemText').innerHTML = `
                <strong>ë¬¸ì œ:</strong> ê¸¸ì´ 100 cmì¸ ìì˜ ì¤‘ì•™(50 cm)ì„ ì‹¤ë¡œ ë§¤ë‹¨ í›„, 
                ë¬¼ì²´ Aë¥¼ ìì˜ ëˆˆê¸ˆ <span style="color: #e74c3c; font-weight: bold;">${posA} cm</span> ë˜ëŠ” ê³³ì— ë§¤ë‹¬ê³ , 
                ë¬´ê²Œ <span style="color: #3498db; font-weight: bold;">${weightB} N</span>ì¸ ë¬¼ì²´ Bë¥¼ ëˆˆê¸ˆ 
                <span style="color: #3498db; font-weight: bold;">${posB} cm</span> ë˜ëŠ” ê³³ì— ë§¤ë‹¬ì•˜ë”ë‹ˆ 
                ëŒë¦¼í˜ì´ í‰í˜•ì„ ì´ë£¨ê²Œ ë˜ì—ˆë‹¤.<br><br>
                <strong>ë¬¼ì²´ Aì˜ ë¬´ê²ŒëŠ” ëª‡ Nì¸ê°€?</strong>
            `;
            
            // ìº”ë²„ìŠ¤ ê·¸ë¦¬ê¸°
            drawBalance();
            
            // ì…ë ¥ ë° í”¼ë“œë°± ì´ˆê¸°í™”
            document.getElementById('answerInput').value = '';
            document.getElementById('feedback').style.display = 'none';
            document.getElementById('feedback').className = 'feedback';
        }
        
        function drawBalance() {
            const canvas = document.getElementById('balanceCanvas');
            const ctx = canvas.getContext('2d');
            const scale = 6; // 1cm = 6px
            
            // ìº”ë²„ìŠ¤ ì´ˆê¸°í™”
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // ë°›ì¹¨ëŒ€ ê·¸ë¦¬ê¸°
            const pivotX = 350;
            const pivotY = 100;
            
            ctx.fillStyle = '#34495e';
            ctx.beginPath();
            ctx.moveTo(pivotX - 20, pivotY);
            ctx.lineTo(pivotX + 20, pivotY);
            ctx.lineTo(pivotX, pivotY + 30);
            ctx.closePath();
            ctx.fill();
            
            // ë§‰ëŒ€ ê·¸ë¦¬ê¸°
            const rodStartX = pivotX - 300;
            const rodEndX = pivotX + 300;
            const rodY = pivotY - 5;
            
            ctx.strokeStyle = '#7f8c8d';
            ctx.lineWidth = 8;
            ctx.beginPath();
            ctx.moveTo(rodStartX, rodY);
            ctx.lineTo(rodEndX, rodY);
            ctx.stroke();
            
            // ëˆˆê¸ˆ í‘œì‹œ
            for (let i = 0; i <= 100; i += 10) {
                const x = rodStartX + i * scale;
                ctx.strokeStyle = '#95a5a6';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(x, rodY - 10);
                ctx.lineTo(x, rodY + 10);
                ctx.stroke();
                
                if (i % 20 === 0) {
                    ctx.fillStyle = '#7f8c8d';
                    ctx.font = '12px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText(i, x, rodY + 25);
                }
            }
            
            // ë¬¼ì²´ A ê·¸ë¦¬ê¸°
            const xA = rodStartX + currentProblem.posA * scale;
            
            // ì¤„
            ctx.strokeStyle = '#e74c3c';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(xA, rodY);
            ctx.lineTo(xA, rodY + 60);
            ctx.stroke();
            
            // ë¬¼ì²´
            ctx.fillStyle = '#e74c3c';
            ctx.fillRect(xA - 20, rodY + 60, 40, 40);
            ctx.fillStyle = 'white';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('A', xA, rodY + 85);
            
            // ë¬¼ì²´ B ê·¸ë¦¬ê¸°
            const xB = rodStartX + currentProblem.posB * scale;
            
            // ì¤„
            ctx.strokeStyle = '#3498db';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(xB, rodY);
            ctx.lineTo(xB, rodY + 60);
            ctx.stroke();
            
            // ë¬¼ì²´
            ctx.fillStyle = '#3498db';
            ctx.fillRect(xB - 20, rodY + 60, 40, 40);
            ctx.fillStyle = 'white';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('B', xB, rodY + 85);
            
            // ë¬´ê²Œ í‘œì‹œ
            ctx.fillStyle = '#3498db';
            ctx.font = '14px Arial';
            ctx.fillText(currentProblem.weightB + ' N', xB, rodY + 120);
            
            // ê±°ë¦¬ í‘œì‹œ
            ctx.strokeStyle = '#27ae60';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            
            // Aì˜ ê±°ë¦¬
            ctx.beginPath();
            ctx.moveTo(xA, rodY - 30);
            ctx.lineTo(pivotX, rodY - 30);
            ctx.stroke();
            ctx.fillStyle = '#27ae60';
            ctx.font = '12px Arial';
            ctx.fillText(currentProblem.distanceA + ' cm', (xA + pivotX) / 2, rodY - 35);
            
            // Bì˜ ê±°ë¦¬
            ctx.beginPath();
            ctx.moveTo(pivotX, rodY - 30);
            ctx.lineTo(xB, rodY - 30);
            ctx.stroke();
            ctx.fillText(currentProblem.distanceB + ' cm', (pivotX + xB) / 2, rodY - 35);
            
            ctx.setLineDash([]);
        }
        
        function checkAnswer() {
            const userAnswer = parseFloat(document.getElementById('answerInput').value);
            const feedback = document.getElementById('feedback');
            
            if (isNaN(userAnswer)) {
                feedback.className = 'feedback incorrect';
                feedback.textContent = 'âš ï¸ ë‹µì„ ì…ë ¥í•´ì£¼ì„¸ìš”!';
                feedback.style.display = 'block';
                return;
            }
            
            const correctAnswer = currentProblem.weightA;
            const tolerance = 0.1; // ì˜¤ì°¨ ë²”ìœ„ (ì†Œìˆ˜ì  ì²«ì§¸ìë¦¬ê¹Œì§€ ì •í™•í•´ì•¼ í•¨)
            
            if (Math.abs(userAnswer - correctAnswer) < tolerance) {
                feedback.className = 'feedback correct';
                feedback.innerHTML = `
                    ğŸ‰ ì •ë‹µì…ë‹ˆë‹¤!<br>
                    ë¬¼ì²´ Aì˜ ë¬´ê²Œ: ${correctAnswer.toFixed(1)} N<br>
                    <small>ëŒë¦¼í˜ í‰í˜•: ${currentProblem.weightA.toFixed(1)} N Ã— ${currentProblem.distanceA} cm = 
                    ${currentProblem.weightB} N Ã— ${currentProblem.distanceB} cm</small>
                `;
            } else {
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = `
                    âŒ í‹€ë ¸ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”!<br>
                    <small>íŒíŠ¸: ëŒë¦¼í˜ì˜ í‰í˜• ì¡°ê±´ì„ ì´ìš©í•˜ì„¸ìš”.<br>
                    ì™¼ìª½ ëŒë¦¼í˜ = ì˜¤ë¥¸ìª½ ëŒë¦¼í˜<br><br>
                    ì •ë‹µê³¼ í•´ì„¤ì„ ë³´ë ¤ë©´ "ğŸ“– í•´ì„¤ ë³´ê¸°" ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.</small>
                `;
            }
            feedback.style.display = 'block';
        }
        
        function showSolution() {
            const feedback = document.getElementById('feedback');
            const torqueA = currentProblem.weightA * currentProblem.distanceA;
            const torqueB = currentProblem.weightB * currentProblem.distanceB;
            
            feedback.className = 'feedback solution';
            feedback.innerHTML = `
                <div style="text-align: center; font-size: 18px; margin-bottom: 15px;">
                    <strong>ğŸ“– ë¬¸ì œ í•´ì„¤</strong>
                </div>
                
                <div class="solution-step">
                    <strong>1ï¸âƒ£ ì£¼ì–´ì§„ ì¡°ê±´</strong><br>
                    â€¢ ë§‰ëŒ€ì˜ ê¸¸ì´: 100 cm<br>
                    â€¢ ë°›ì¹¨ì (íšŒì „ì¶•): 50 cm (ì¤‘ì•™)<br>
                    â€¢ ë¬¼ì²´ Aì˜ ìœ„ì¹˜: ${currentProblem.posA} cm<br>
                    â€¢ ë¬¼ì²´ Bì˜ ìœ„ì¹˜: ${currentProblem.posB} cm<br>
                    â€¢ ë¬¼ì²´ Bì˜ ë¬´ê²Œ: ${currentProblem.weightB} N
                </div>
                
                <div class="solution-step">
                    <strong>2ï¸âƒ£ ë°›ì¹¨ì ìœ¼ë¡œë¶€í„°ì˜ ê±°ë¦¬ ê³„ì‚°</strong><br>
                    â€¢ ë¬¼ì²´ Aê¹Œì§€ì˜ ê±°ë¦¬: |50 - ${currentProblem.posA}| = ${currentProblem.distanceA} cm<br>
                    â€¢ ë¬¼ì²´ Bê¹Œì§€ì˜ ê±°ë¦¬: |${currentProblem.posB} - 50| = ${currentProblem.distanceB} cm
                </div>
                
                <div class="solution-step">
                    <strong>3ï¸âƒ£ ëŒë¦¼í˜ í‰í˜• ì¡°ê±´ ì ìš©</strong><br>
                    í‰í˜• ìƒíƒœì—ì„œëŠ” ì‹œê³„ ë°©í–¥ ëŒë¦¼í˜ê³¼ ë°˜ì‹œê³„ ë°©í–¥ ëŒë¦¼í˜ì´ ê°™ìŠµë‹ˆë‹¤.<br><br>
                    <span style="color: #e74c3c;">W<sub>A</sub> Ã— d<sub>A</sub></span> = 
                    <span style="color: #3498db;">W<sub>B</sub> Ã— d<sub>B</sub></span><br><br>
                    <span style="color: #e74c3c;">W<sub>A</sub> Ã— ${currentProblem.distanceA}</span> = 
                    <span style="color: #3498db;">${currentProblem.weightB} Ã— ${currentProblem.distanceB}</span>
                </div>
                
                <div class="solution-step">
                    <strong>4ï¸âƒ£ ë¬¼ì²´ Aì˜ ë¬´ê²Œ ê³„ì‚°</strong><br>
                    W<sub>A</sub> = (${currentProblem.weightB} Ã— ${currentProblem.distanceB}) Ã· ${currentProblem.distanceA}<br>
                    W<sub>A</sub> = ${torqueB} Ã· ${currentProblem.distanceA}<br>
                    W<sub>A</sub> = <strong style="color: #e74c3c; font-size: 20px;">${currentProblem.weightA.toFixed(1)} N</strong>
                </div>
                
                <div class="solution-step">
                    <strong>5ï¸âƒ£ ê²€ì‚°</strong><br>
                    ì¢Œì¸¡ ëŒë¦¼í˜: ${currentProblem.weightA.toFixed(1)} N Ã— ${currentProblem.distanceA} cm = ${torqueA.toFixed(1)} NÂ·cm<br>
                    ìš°ì¸¡ ëŒë¦¼í˜: ${currentProblem.weightB} N Ã— ${currentProblem.distanceB} cm = ${torqueB.toFixed(1)} NÂ·cm<br>
                    âœ“ ë‘ ëŒë¦¼í˜ì´ ê°™ìœ¼ë¯€ë¡œ í‰í˜• ìƒíƒœì…ë‹ˆë‹¤!
                </div>
            `;
            feedback.style.display = 'block';
        }
        
        // Enter í‚¤ë¡œ ì •ë‹µ í™•ì¸
        document.getElementById('answerInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì²« ë¬¸ì œ ìƒì„±
        generateNewProblem();
    </script>
</body>
</html>