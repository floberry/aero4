<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¬¼ë¦¬í•™2 ëŒë¦¼í˜ í‰í˜• ë¬¸ì œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 40px;
            max-width: 900px;
            width: 100%;
            min-height: 500px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .page {
            display: none;
            width: 100%;
            text-align: center;
            animation: fadeIn 0.5s;
        }
        
        .page.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        h1 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 30px;
            line-height: 1.5;
        }
        
        .character {
            width: 150px;
            height: 150px;
            margin: 20px auto;
            position: relative;
        }
        
        .character-body {
            width: 80px;
            height: 100px;
            background: #4a90e2;
            border-radius: 40px 40px 20px 20px;
            margin: 0 auto;
            position: relative;
        }
        
        .character-head {
            width: 60px;
            height: 60px;
            background: #ffd4a3;
            border-radius: 50%;
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            border: 3px solid #333;
        }
        
        .character-eyes {
            display: flex;
            justify-content: space-around;
            width: 40px;
            margin: 20px auto 0;
        }
        
        .eye {
            width: 8px;
            height: 8px;
            background: #333;
            border-radius: 50%;
        }
        
        .sad-mouth {
            width: 20px;
            height: 10px;
            border: 2px solid #333;
            border-top: none;
            border-radius: 0 0 20px 20px;
            margin: 5px auto;
            transform: rotate(180deg);
        }
        
        .happy-mouth {
            width: 20px;
            height: 10px;
            border: 2px solid #333;
            border-top: none;
            border-radius: 0 0 20px 20px;
            margin: 5px auto;
        }
        
        .speech-bubble {
            background: #fff;
            border: 3px solid #333;
            border-radius: 20px;
            padding: 20px;
            margin: 20px auto;
            max-width: 400px;
            position: relative;
            font-size: 1.3em;
            font-weight: bold;
        }
        
        .speech-bubble:before {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 20px solid #333;
        }
        
        .speech-bubble:after {
            content: '';
            position: absolute;
            bottom: -14px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 12px solid transparent;
            border-right: 12px solid transparent;
            border-top: 17px solid #fff;
        }
        
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2em;
            border-radius: 30px;
            cursor: pointer;
            margin-top: 20px;
            transition: transform 0.2s, box-shadow 0.2s;
            font-weight: bold;
            position: relative;
            z-index: 100;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        button:active {
            transform: translateY(-1px);
        }
        
        .problem-container {
            text-align: left;
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        .problem-text {
            font-size: 1.1em;
            line-height: 1.8;
            margin-bottom: 20px;
        }
        
        .diagram {
            margin: 30px auto;
            text-align: center;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .diagram svg {
            display: block;
            margin: 0 auto;
        }
        
        .answer-input {
            width: 200px;
            padding: 10px;
            font-size: 1.1em;
            border: 2px solid #667eea;
            border-radius: 10px;
            margin: 20px 10px;
            text-align: center;
            position: relative;
            z-index: 100;
        }
        
        .solution-box {
            background: #e8f5e9;
            border: 2px solid #4caf50;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            display: none;
            text-align: left;
            line-height: 1.8;
        }
        
        .solution-box.show {
            display: block;
        }
        
        .solution-box h3 {
            color: #2e7d32;
            margin-bottom: 15px;
        }
        
        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            display: none;
        }
        
        .feedback.show {
            display: block;
        }
        
        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }
        
        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
        }
        
        .crown {
            font-size: 100px;
            margin: 20px;
        }
        
        .final-character {
            font-size: 150px;
            margin: 20px;
        }
        
        .formula {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 10px;
            margin: 15px auto;
            border-left: 4px solid #2196f3;
            max-width: 500px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Page 1: ì‹œì‘ í˜ì´ì§€ -->
        <div class="page active" id="page1">
            <h1>ë‹¹ì‹ ì€ ê³ ë“±í•™êµ ë¬¼ë¦¬í•™2ë¥¼ ìˆ˜ê°•í•˜ëŠ”<br>ë¬¼ë¦¬ ë°˜ì¥ì…ë‹ˆë‹¤.<br>ë¬¼ë¦¬ ë¬¸ì œë¡œ ì–´ë ¤ì›Œí•˜ê³  ìˆëŠ” ì¹œêµ¬ë¥¼<br>ë„ì™€ì¤˜ ëŠ¥ë ¥ì„ ì¦ëª…í•´ì£¼ì„¸ìš”!</h1>
            <button onclick="nextPage(2)">ì‹œì‘</button>
        </div>
        
        <!-- Page 2: í•™ìƒ ë“±ì¥ -->
        <div class="page" id="page2">
            <div class="character">
                <div class="character-body">
                    <div class="character-head">
                        <div class="character-eyes">
                            <div class="eye"></div>
                            <div class="eye"></div>
                        </div>
                        <div class="sad-mouth"></div>
                    </div>
                </div>
            </div>
            <div class="speech-bubble">
                ë¬¸ì œë¥¼ ëª» í’€ê² ì–´ ã… ã… 
            </div>
            <button onclick="nextPage(3)">ë„ì™€ì£¼ê¸°</button>
        </div>
        
        <!-- Page 3: ë¬¸ì œ í˜ì´ì§€ -->
        <div class="page" id="page3">
            <h1 style="font-size: 1.5em;">ë¬¸ì œë¥¼ í’€ì–´ë³´ì„¸ìš”!</h1>
            <div class="problem-container">
                <div class="problem-text">
                    <strong>ë¬¸ì œ:</strong> ê·¸ë¦¼ê³¼ ê°™ì´ ë¬´ê²Œê°€ <span id="weight"></span> Nì¸ ë¬¼ì²´ê°€ ì™¼ìª½ ëìœ¼ë¡œë¶€í„° ê±°ë¦¬ <span id="leftDistText"></span>Lì¸ ê³³ì— ë§¤ë‹¬ë ¤ ìˆê³  ë§‰ëŒ€ì˜ ì˜¤ë¥¸ìª½ ëì´ ìˆ˜í‰ì„ ìœ ì§€í•˜ê³  ìˆë‹¤.
                    <br><br>
                    <strong>WëŠ” ëª‡ Nì¸ê°€?</strong>
                    <br>
                    (ë‹¨, ë§‰ëŒ€ì˜ ê¸¸ì´ëŠ” <span id="totalDistText"></span>Lì´ê³  ë§‰ëŒ€ì˜ ë¬´ê²ŒëŠ” ë¬´ì‹œí•œë‹¤.)
                </div>
                
                <div class="diagram">
                    <svg width="550" height="280" viewBox="0 0 550 280" style="margin: 0 auto; display: block;">
                        <!-- ì§€ì§€ì  -->
                        <line x1="275" y1="60" x2="275" y2="110" stroke="#333" stroke-width="3"/>
                        <circle cx="275" cy="60" r="6" fill="#333"/>
                        
                        <!-- ë§‰ëŒ€ -->
                        <rect x="75" y="105" width="400" height="12" fill="#8b4513" stroke="#333" stroke-width="2" rx="3"/>
                        
                        <!-- ì™¼ìª½ ë¬¼ì²´ ì¤„ -->
                        <line x1="175" y1="117" x2="175" y2="170" stroke="#333" stroke-width="2"/>
                        
                        <!-- ì™¼ìª½ ë¬¼ì²´ -->
                        <rect x="155" y="170" width="40" height="35" fill="#e74c3c" stroke="#333" stroke-width="2" rx="3"/>
                        <text x="175" y="192" font-size="12" font-weight="bold" fill="white" text-anchor="middle" id="weightLabel">20N</text>
                        
                        <!-- ì˜¤ë¥¸ìª½ ë¬¼ì²´ ì¤„ -->
                        <line x1="475" y1="117" x2="475" y2="170" stroke="#333" stroke-width="2"/>
                        
                        <!-- ì˜¤ë¥¸ìª½ ë¬¼ì²´ -->
                        <rect x="455" y="170" width="40" height="35" fill="#3498db" stroke="#333" stroke-width="2" rx="3"/>
                        <text x="469" y="193" font-size="14" font-weight="bold" fill="white">W</text>
                        
                        <!-- ê±°ë¦¬ í‘œì‹œ L -->
                        <line x1="75" y1="90" x2="175" y2="90" stroke="#f39c12" stroke-width="2"/>
                        <line x1="75" y1="85" x2="75" y2="95" stroke="#f39c12" stroke-width="2"/>
                        <line x1="175" y1="85" x2="175" y2="95" stroke="#f39c12" stroke-width="2"/>
                        <text x="120" y="85" font-size="16" font-weight="bold" fill="#f39c12" id="leftDistLabel">L</text>
                        
                        <!-- ê±°ë¦¬ í‘œì‹œ 3L -->
                        <line x1="175" y1="135" x2="475" y2="135" stroke="#27ae60" stroke-width="2"/>
                        <line x1="175" y1="130" x2="175" y2="140" stroke="#27ae60" stroke-width="2"/>
                        <line x1="475" y1="130" x2="475" y2="140" stroke="#27ae60" stroke-width="2"/>
                        <text x="315" y="155" font-size="16" font-weight="bold" fill="#27ae60" id="rightDistLabel">3L</text>
                        
                        <!-- íšŒì „ ì¤‘ì‹¬ í‘œì‹œ -->
                        <circle cx="275" cy="111" r="4" fill="#e74c3c"/>
                    </svg>
                </div>
                
                <div style="margin-top: 30px;">
                    <label for="answer"><strong>ë‹µ:</strong></label>
                    <input type="text" id="answer" class="answer-input" placeholder="ìˆ«ìë§Œ ì…ë ¥" inputmode="decimal">
                    <strong>N</strong>
                </div>
                
                <div>
                    <button onclick="checkAnswer()">ì •ë‹µ í™•ì¸</button>
                    <button onclick="generateNewProblem()" style="background: #27ae60;">ìƒˆ ë¬¸ì œ</button>
                </div>
                
                <div class="feedback" id="feedback"></div>
                
                <div class="solution-box" id="solutionBox">
                    <h3>âœ“ í’€ì´</h3>
                    <div id="solutionContent"></div>
                    <div style="text-align: center; margin-top: 20px;">
                        <button onclick="nextPage(4)" id="confirmButton" style="display: none;">í™•ì¸</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Page 4: ê°ì‚¬ í˜ì´ì§€ -->
        <div class="page" id="page4">
            <div class="character">
                <div class="character-body">
                    <div class="character-head">
                        <div class="character-eyes">
                            <div class="eye"></div>
                            <div class="eye"></div>
                        </div>
                        <div class="happy-mouth"></div>
                    </div>
                </div>
            </div>
            <div class="speech-bubble">
                ê³ ë§ˆì›Œ!<br>
                <div class="formula" style="margin-top: 15px; font-size: 0.8em;">
                    <strong>ëŒë¦¼í˜ í‰í˜• ê³µì‹</strong><br>
                    Fâ‚ Ã— râ‚ = Fâ‚‚ Ã— râ‚‚
                </div>
                ì´êµ¬ë‚˜!
            </div>
            <button onclick="nextPage(5)">ë‹¤ìŒ</button>
        </div>
        
        <!-- Page 5: ìµœì¢… í˜ì´ì§€ -->
        <div class="page" id="page5">
            <h1 style="font-size: 2.5em; color: #f39c12;">ë¬¼ë¦¬ ë°˜ì¥ ì¹­í˜¸ë¥¼ ì§€ì¼œëƒˆë‹¤!</h1>
            <div class="crown">ğŸ‘‘</div>
            <div class="final-character">ğŸ‘</div>
            <h2 style="color: #667eea; margin-top: 20px;">ì¶•í•˜í•©ë‹ˆë‹¤!</h2>
            <button onclick="restartGame()">ë‹¤ë¥¸ ì¹œêµ¬ ë„ì™€ì£¼ëŸ¬ ê°€ê¸°</button>
        </div>
    </div>
    
    <script>
        let currentAnswer = 60;
        let weight1 = 20;
        let leftDist = 1;
        let rightDist = 3;
        
        function initializeProblem() {
            generateNewProblem();
        }
        
        function generateNewProblem() {
            // ê±°ë¦¬ ë°°ìˆ˜ ëœë¤ ìƒì„± (1ë°°, 2ë°°, 3ë°°, 4ë°°)
            const multiplier = Math.floor(Math.random() * 4 + 1); // 1, 2, 3, 4
            leftDist = 1 * multiplier;
            rightDist = 3 * multiplier;
            
            // ì™¼ìª½ ë¬¼ì²´ ë¬´ê²Œ ëœë¤ ìƒì„±
            // ë‹µì´ ìì—°ìˆ˜ê°€ ë˜ë ¤ë©´: weight1 / 2 ê°€ ìì—°ìˆ˜ì—¬ì•¼ í•¨
            // ë”°ë¼ì„œ weight1ì€ ì§ìˆ˜ì—¬ì•¼ í•¨
            weight1 = Math.floor(Math.random() * 5 + 1) * 10; // 10, 20, 30, 40, 50
            
            // ì •ë‹µ ê³„ì‚°
            const distFromLeft = ((leftDist + rightDist) / 2) - leftDist;
            const distFromRight = rightDist - distFromLeft;
            
            // weight1 Ã— distFromLeft = W Ã— distFromRight
            currentAnswer = (weight1 * distFromLeft) / distFromRight;
            
            // í™”ë©´ ì—…ë°ì´íŠ¸
            document.getElementById('weight').textContent = weight1;
            document.getElementById('weightLabel').textContent = weight1 + 'N';
            document.getElementById('leftDistLabel').textContent = leftDist + 'L';
            document.getElementById('rightDistLabel').textContent = rightDist + 'L';
            document.getElementById('leftDistText').textContent = leftDist;
            document.getElementById('totalDistText').textContent = leftDist + rightDist;
            
            // ì…ë ¥ ë° í”¼ë“œë°± ì´ˆê¸°í™”
            document.getElementById('answer').value = '';
            document.getElementById('feedback').classList.remove('show');
            document.getElementById('solutionBox').classList.remove('show');
            document.getElementById('confirmButton').style.display = 'none';
        }
        
        function nextPage(pageNum) {
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => page.classList.remove('active'));
            document.getElementById('page' + pageNum).classList.add('active');
        }
        
        function checkAnswer() {
            const answer = document.getElementById('answer').value;
            const feedback = document.getElementById('feedback');
            const solutionBox = document.getElementById('solutionBox');
            
            if (answer === '') {
                feedback.textContent = 'ë‹µì„ ì…ë ¥í•´ì£¼ì„¸ìš”!';
                feedback.className = 'feedback show incorrect';
                solutionBox.classList.remove('show');
                return;
            }
            
            const numAnswer = parseFloat(answer);
            
            if (Math.abs(numAnswer - currentAnswer) < 0.5) {
                feedback.textContent = 'ì •ë‹µì…ë‹ˆë‹¤! ğŸ‰ ì˜í–ˆì–´ìš”!';
                feedback.className = 'feedback show correct';
                
                const totalDist = leftDist + rightDist;
                const pivotPos = totalDist / 2;
                const distFromLeft = pivotPos - leftDist;
                const distFromRight = rightDist - distFromLeft;
                
                // í’€ì´ í‘œì‹œ
                const solutionContent = document.getElementById('solutionContent');
                solutionContent.innerHTML = `
                    <strong>1ë‹¨ê³„: ì£¼ì–´ì§„ ì •ë³´ ì •ë¦¬</strong><br>
                    â€¢ ë§‰ëŒ€ì˜ ì´ ê¸¸ì´: ${totalDist}L<br>
                    â€¢ ì™¼ìª½ ë¬¼ì²´ì˜ ë¬´ê²Œ: ${weight1} N (ì™¼ìª½ ëì—ì„œ ${leftDist}Lë§Œí¼ ë–¨ì–´ì§„ ê³³ì— ìœ„ì¹˜)<br>
                    â€¢ ì˜¤ë¥¸ìª½ ë¬¼ì²´ W (ì˜¤ë¥¸ìª½ ëì— ìœ„ì¹˜)<br>
                    â€¢ íšŒì „ì¶•: ë§‰ëŒ€ê°€ ìˆ˜í‰ì„ ìœ ì§€í•˜ëŠ” ìœ„ì¹˜ (ë§‰ëŒ€ì˜ ì¤‘ì•™, ì™¼ìª½ ëì—ì„œ ${pivotPos}L)<br><br>
                    
                    <strong>2ë‹¨ê³„: íšŒì „ì¶•ìœ¼ë¡œë¶€í„°ì˜ ê±°ë¦¬ ë¶„ì„</strong><br>
                    â€¢ íšŒì „ì¶• ìœ„ì¹˜ = (${leftDist}L + ${rightDist}L) Ã· 2 = ${pivotPos}L (ì™¼ìª½ ë ê¸°ì¤€)<br>
                    â€¢ íšŒì „ì¶•ìœ¼ë¡œë¶€í„° ì™¼ìª½ ë¬¼ì²´ê¹Œì§€ì˜ ê±°ë¦¬ = ${pivotPos}L - ${leftDist}L = ${distFromLeft}L<br>
                    â€¢ íšŒì „ì¶•ìœ¼ë¡œë¶€í„° ì˜¤ë¥¸ìª½ ë¬¼ì²´ê¹Œì§€ì˜ ê±°ë¦¬ = ${rightDist}L - ${distFromLeft}L = ${distFromRight}L<br><br>
                    
                    <strong>3ë‹¨ê³„: ëŒë¦¼í˜ í‰í˜• ì¡°ê±´ ì ìš©</strong><br>
                    ì‹œê³„ ë°©í–¥ ëŒë¦¼í˜ = ë°˜ì‹œê³„ ë°©í–¥ ëŒë¦¼í˜<br>
                    ${weight1} N Ã— ${distFromLeft}L = W Ã— ${distFromRight}L<br><br>
                    
                    <strong>4ë‹¨ê³„: ê³„ì‚°</strong><br>
                    W = (${weight1} N Ã— ${distFromLeft}L) Ã· ${distFromRight}L<br>
                    W = ${weight1} N Ã· ${distFromRight / distFromLeft}<br>
                    W = ${currentAnswer} N<br><br>
                    
                    <strong>í•µì‹¬ ê°œë…:</strong> ëŒë¦¼í˜ í‰í˜•ì—ì„œëŠ” íšŒì „ì¶•ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì–‘ìª½ì˜ (í˜ Ã— ê±°ë¦¬)ê°€ ê°™ì•„ì•¼ í•©ë‹ˆë‹¤.
                `;
                solutionBox.classList.add('show');
                document.getElementById('confirmButton').style.display = 'inline-block';
            } else {
                feedback.textContent = 'í‹€ë ¸ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”!';
                feedback.className = 'feedback show incorrect';
                solutionBox.classList.remove('show');
            }
        }
        
        function restartGame() {
            nextPage(1);
            setTimeout(() => {
                generateNewProblem();
            }, 500);
        }
        
        document.getElementById('answer').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì²« ë¬¸ì œ ìƒì„±
        window.addEventListener('load', initializeProblem);
    </script>
</body>
</html>