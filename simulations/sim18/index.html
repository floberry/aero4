<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Í≥µÏ£ºÏùò ÎèåÎ¶ºÌûò ÎßàÎ≤ï ÏãúÎÆ¨Î†àÏù¥ÏÖò</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;600&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Serif KR', serif;
            background: linear-gradient(135deg, #ffd1dc 0%, #ffb6d9 50%, #e6b5ff 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(219, 112, 147, 0.3);
            padding: 40px;
            max-width: 900px;
            width: 100%;
            border: 3px solid #ffb6d9;
        }
        
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        h1 {
            text-align: center;
            color: #d946a6;
            font-size: 1.8em;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(217, 70, 166, 0.2);
            white-space: nowrap;
        }
        
        h2 {
            color: #c026d3;
            font-size: 1.5em;
            margin: 30px 0 20px 0;
            text-align: center;
        }
        
        .simulation-area {
            background: linear-gradient(to bottom, #fff5f7, #fef0ff);
            border: 2px solid #f0abfc;
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            position: relative;
            min-height: 300px;
        }
        
        .canvas-container {
            position: relative;
            width: 100%;
            height: 350px;
            margin: 20px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        
        canvas {
            border: 2px dashed #f0abfc;
            border-radius: 15px;
            background: white;
            max-width: 100%;
        }
        
        .controls {
            margin: 20px 0;
            padding: 20px;
            background: rgba(255, 182, 217, 0.1);
            border-radius: 15px;
        }
        
        .control-group {
            margin: 15px 0;
        }
        
        label {
            display: block;
            color: #c026d3;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 1.1em;
        }
        
        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: linear-gradient(to right, #f0abfc, #d946a6);
            outline: none;
            -webkit-appearance: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(135deg, #d946a6, #c026d3);
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(217, 70, 166, 0.4);
        }
        
        .value-display {
            text-align: center;
            font-size: 1.2em;
            color: #c026d3;
            font-weight: 600;
            margin-top: 10px;
        }
        
        .result-box {
            background: linear-gradient(135deg, #fef0ff, #fff5f7);
            border: 3px solid #d946a6;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        .result-box h3 {
            color: #c026d3;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        
        .result-value {
            font-size: 2em;
            color: #d946a6;
            font-weight: 600;
        }
        
        .quiz-section {
            margin-top: 40px;
        }
        
        .quiz-item {
            background: white;
            border: 2px solid #f0abfc;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .quiz-question {
            color: #831843;
            font-size: 1.15em;
            margin-bottom: 15px;
            font-weight: 600;
        }
        
        .quiz-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }
        
        .quiz-btn {
            padding: 12px 35px;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Noto Serif KR', serif;
        }
        
        .quiz-btn.o {
            background: linear-gradient(135deg, #f0abfc, #d946a6);
            color: white;
        }
        
        .quiz-btn.x {
            background: linear-gradient(135deg, #cbd5e1, #94a3b8);
            color: white;
        }
        
        .quiz-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(217, 70, 166, 0.4);
        }
        
        .quiz-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .quiz-feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 10px;
            font-size: 1.05em;
            line-height: 1.6;
            display: none;
        }
        
        .quiz-feedback.correct {
            background: #dcfce7;
            color: #166534;
            border: 2px solid #86efac;
            display: block;
        }
        
        .quiz-feedback.incorrect {
            background: #fee2e2;
            color: #991b1b;
            border: 2px solid #fca5a5;
            display: block;
        }
        
        .sparkle {
            position: absolute;
            pointer-events: none;
            animation: sparkleAnim 1s ease-out;
        }
        
        @keyframes sparkleAnim {
            0% {
                opacity: 1;
                transform: scale(0) rotate(0deg);
            }
            50% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                transform: scale(1.5) rotate(180deg);
            }
        }
        
        .confetti {
            position: fixed;
            pointer-events: none;
            animation: confettiFall 2s ease-out forwards;
        }
        
        @keyframes confettiFall {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }
        
        .celebration {
            text-align: center;
            padding: 40px;
        }
        
        .princess-icon {
            font-size: 120px;
            margin: 30px 0;
            animation: bounce 1s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        .celebration h2 {
            color: #d946a6;
            font-size: 2.5em;
            margin: 20px 0;
        }
        
        .concept-summary {
            background: linear-gradient(to bottom, #fff5f7, #fef0ff);
            border: 3px solid #f0abfc;
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            text-align: left;
        }
        
        .concept-summary h3 {
            color: #c026d3;
            font-size: 1.5em;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .concept-item {
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 10px;
            border-left: 4px solid #d946a6;
        }
        
        .concept-item strong {
            color: #c026d3;
        }
        
        .btn-back {
            display: block;
            margin: 30px auto;
            padding: 15px 40px;
            background: linear-gradient(135deg, #f0abfc, #d946a6);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Noto Serif KR', serif;
        }
        
        .btn-back:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(217, 70, 166, 0.4);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Page 1: Simulation and Quiz -->
        <div id="page1" class="page active">
            <h1>‚ú® Í≥µÏ£ºÏùò ÎèåÎ¶ºÌûò ÎßàÎ≤ï ÏãúÎÆ¨Î†àÏù¥ÏÖò ‚ú®</h1>
            
            <div class="simulation-area">
                <h2>ü™Ñ ÎßàÎ≤ï ÏöîÏà†Î¥â ÏãúÎÆ¨Î†àÏù¥ÏÖò</h2>
                <div class="canvas-container">
                    <canvas id="canvas" width="700" height="350"></canvas>
                </div>
                
                <div class="controls">
                    <div class="control-group">
                        <label>‚≠ê ÏöîÏà†Î¥âÏùò Í∏∏Ïù¥ (Ï°∞ÏûëÎ≥ÄÏù∏)</label>
                        <input type="range" id="lengthSlider" min="10" max="40" value="20" step="1">
                        <div class="value-display" id="lengthValue">20 cm</div>
                    </div>
                    <div class="control-group">
                        <label>üîÆ ÏöîÏà†Î¥âÏùò Í∞ÅÎèÑ (Ï°∞ÏûëÎ≥ÄÏù∏)</label>
                        <input type="range" id="angleSlider" min="-45" max="45" value="0" step="5">
                        <div class="value-display" id="angleValue">0¬∞</div>
                    </div>
                </div>
                
                <div class="result-box">
                    <h3>üí´ Î≥ºÌä∏Ïóê ÏûëÏö©ÌïòÎäî ÎèåÎ¶ºÌûò</h3>
                    <div class="result-value" id="torqueResult">1.73 N¬∑m</div>
                </div>
            </div>
            
            <div class="quiz-section">
                <h2>üåü Í∞úÎÖê ÌôïÏù∏ ÌÄ¥Ï¶à</h2>
                
                <div class="quiz-item">
                    <div class="quiz-question">Q1. ÎèåÎ¶ºÌûòÏùò ÌÅ¨Í∏∞Îäî ÌûòÏùò ÌÅ¨Í∏∞ÏôÄ ÌöåÏ†ÑÏ∂ïÏúºÎ°úÎ∂ÄÌÑ∞Ïùò Í±∞Î¶¨(ÌåîÍ∏∏Ïù¥)Ïùò Í≥±ÏúºÎ°ú Í≥ÑÏÇ∞ÎêúÎã§.</div>
                    <div class="quiz-buttons">
                        <button class="quiz-btn o" onclick="checkAnswer(1, true)">O</button>
                        <button class="quiz-btn x" onclick="checkAnswer(1, false)">X</button>
                    </div>
                    <div class="quiz-feedback" id="feedback1"></div>
                </div>
                
                <div class="quiz-item">
                    <div class="quiz-question">Q2. ÏöîÏà†Î¥âÏùò Í∏∏Ïù¥Í∞Ä 2Î∞∞Î°ú ÎäòÏñ¥ÎÇòÎ©¥ Í∞ôÏùÄ ÌûòÏúºÎ°ú ÎßåÎìúÎäî ÎèåÎ¶ºÌûòÎèÑ 2Î∞∞Í∞Ä ÎêúÎã§.</div>
                    <div class="quiz-buttons">
                        <button class="quiz-btn o" onclick="checkAnswer(2, true)">O</button>
                        <button class="quiz-btn x" onclick="checkAnswer(2, false)">X</button>
                    </div>
                    <div class="quiz-feedback" id="feedback2"></div>
                </div>
                
                <div class="quiz-item">
                    <div class="quiz-question">Q3. ÌûòÏù¥ ÌöåÏ†ÑÏ∂ïÏúºÎ°úÎ∂ÄÌÑ∞ ÏàòÏßÅ Î∞©Ìñ•ÏúºÎ°ú ÏûëÏö©Ìï† Îïå ÎèåÎ¶ºÌûòÏù¥ ÏµúÎåÄÍ∞Ä ÎêúÎã§.</div>
                    <div class="quiz-buttons">
                        <button class="quiz-btn o" onclick="checkAnswer(3, true)">O</button>
                        <button class="quiz-btn x" onclick="checkAnswer(3, false)">X</button>
                    </div>
                    <div class="quiz-feedback" id="feedback3"></div>
                </div>
            </div>
        </div>
        
        <!-- Page 2: Celebration -->
        <div id="page2" class="page">
            <div class="celebration">
                <div class="princess-icon">üë∏</div>
                <h2>Ï∂ïÌïòÌï©ÎãàÎã§! üéâ</h2>
                <p style="font-size: 1.3em; color: #831843; margin: 20px 0;">Í≥µÏ£ºÎãò, Î™®Îì† Î¨∏Ï†úÎ•º Ï†ïÎãµÏúºÎ°ú ÎßûÏ∂îÏÖ®Ïñ¥Ïöî!</p>
                
                <div class="concept-summary">
                    <h3>‚ú® ÎèåÎ¶ºÌûò Í∞úÎÖê Ï†ïÎ¶¨ ‚ú®</h3>
                    
                    <div class="concept-item">
                        <strong>1. ÎèåÎ¶ºÌûòÏùò Ï†ïÏùò</strong><br>
                        ÎèåÎ¶ºÌûò(œÑ)ÏùÄ Î¨ºÏ≤¥Î•º ÌöåÏ†ÑÏãúÌÇ§Îäî Ìö®Í≥ºÎ•º ÎÇòÌÉÄÎÇ¥Îäî Î¨ºÎ¶¨ÎüâÏûÖÎãàÎã§. ÌöåÏ†ÑÏ∂ïÏùÑ Ï§ëÏã¨ÏúºÎ°ú Î¨ºÏ≤¥Î•º ÎèåÎ¶¨Î†§Îäî ÌûòÏùò Ìö®Í≥ºÎ•º ÏùòÎØ∏Ìï©ÎãàÎã§.
                    </div>
                    
                    <div class="concept-item">
                        <strong>2. ÎèåÎ¶ºÌûòÏùò Í≥ÑÏÇ∞</strong><br>
                        ÎèåÎ¶ºÌûò œÑ = r √ó F √ó sin Œ∏<br>
                        ‚Ä¢ r: ÌöåÏ†ÑÏ∂ïÏúºÎ°úÎ∂ÄÌÑ∞Ïùò Í±∞Î¶¨ (ÌåîÍ∏∏Ïù¥)<br>
                        ‚Ä¢ F: Í∞ÄÌï¥ÏßÑ ÌûòÏùò ÌÅ¨Í∏∞<br>
                        ‚Ä¢ Œ∏: ÌåîÍ∏∏Ïù¥ÏôÄ ÌûòÏù¥ Ïù¥Î£®Îäî Í∞ÅÎèÑ<br>
                        ‚Ä¢ ÌûòÏù¥ ÏàòÏßÅÏúºÎ°ú ÏûëÏö©Ìï† Îïå (Œ∏=90¬∞) ÎèåÎ¶ºÌûòÏù¥ ÏµúÎåÄÍ∞Ä Îê©ÎãàÎã§.
                    </div>
                    
                    <div class="concept-item">
                        <strong>3. Î¨∏Ï†ú Ìï¥Í≤∞</strong><br>
                        ÏõêÎûò Î¨∏Ï†ú: r = 0.2 m, F = 10 N, Œ∏ = 30¬∞<br>
                        œÑ = 0.2 √ó 10 √ó sin(30¬∞) = 0.2 √ó 10 √ó 0.5 = 1 N¬∑m<br>
                        ÌïòÏßÄÎßå ÌûòÏùò ÏàòÏßÅ ÏÑ±Î∂ÑÏùÑ Í≥†Î†§ÌïòÎ©¥:<br>
                        œÑ = 0.2 √ó 10 √ó cos(30¬∞) = 0.2 √ó 10 √ó (‚àö3/2) ‚âà 1.73 N¬∑m
                    </div>
                    
                    <div class="concept-item">
                        <strong>4. Ïã§ÏÉùÌôú ÏùëÏö©</strong><br>
                        ‚Ä¢ Í∏¥ Î†åÏπòÍ∞Ä ÏßßÏùÄ Î†åÏπòÎ≥¥Îã§ Î≥ºÌä∏Î•º ÏâΩÍ≤å ÎèåÎ¶¥ Ïàò ÏûàÏäµÎãàÎã§<br>
                        ‚Ä¢ Î¨∏ÏÜêÏû°Ïù¥Îäî ÌöåÏ†ÑÏ∂ï(Í≤ΩÏ≤©)ÏóêÏÑú Î®º Í≥≥Ïóê ÏúÑÏπòÌï©ÎãàÎã§<br>
                        ‚Ä¢ ÏãúÏÜåÎäî ÎèåÎ¶ºÌûòÏùò ÌèâÌòï ÏõêÎ¶¨Î•º Ïù¥Ïö©Ìï©ÎãàÎã§
                    </div>
                </div>
                
                <button class="btn-back" onclick="goToPage(1)">ü™Ñ Ï≤òÏùåÏúºÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞</button>
            </div>
        </div>
    </div>
    
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const lengthSlider = document.getElementById('lengthSlider');
        const lengthValue = document.getElementById('lengthValue');
        const angleSlider = document.getElementById('angleSlider');
        const angleValue = document.getElementById('angleValue');
        const torqueResult = document.getElementById('torqueResult');
        
        let quizAnswers = [false, false, false];
        const correctAnswers = [true, true, true];
        
        function drawSimulation(length, wandAngle) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const scale = 8;
            const pivotX = 150;
            const pivotY = 175;
            const wandLength = length * scale;
            const wandAngleRad = wandAngle * Math.PI / 180;
            
            // Calculate wand end position based on angle
            const wandEndX = pivotX + wandLength * Math.cos(wandAngleRad);
            const wandEndY = pivotY + wandLength * Math.sin(wandAngleRad);
            
            // Draw pivot point with enhanced glow
            const pivotGradient = ctx.createRadialGradient(pivotX, pivotY, 0, pivotX, pivotY, 20);
            pivotGradient.addColorStop(0, '#ff69b4');
            pivotGradient.addColorStop(0.5, '#d946a6');
            pivotGradient.addColorStop(1, 'rgba(217, 70, 166, 0)');
            ctx.fillStyle = pivotGradient;
            ctx.beginPath();
            ctx.arc(pivotX, pivotY, 20, 0, Math.PI * 2);
            ctx.fill();
            
            // Outer ring
            ctx.strokeStyle = '#d946a6';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(pivotX, pivotY, 10, 0, Math.PI * 2);
            ctx.stroke();
            
            // Inner point
            ctx.fillStyle = '#fff';
            ctx.beginPath();
            ctx.arc(pivotX, pivotY, 5, 0, Math.PI * 2);
            ctx.fill();
            
            // Draw magic wand with triple layer effect
            ctx.shadowColor = 'rgba(217, 70, 166, 0.6)';
            ctx.shadowBlur = 20;
            
            // Outermost glow layer
            const outerGlow = ctx.createLinearGradient(pivotX, pivotY, wandEndX, wandEndY);
            outerGlow.addColorStop(0, 'rgba(240, 171, 252, 0.4)');
            outerGlow.addColorStop(0.5, 'rgba(217, 70, 166, 0.4)');
            outerGlow.addColorStop(1, 'rgba(192, 38, 211, 0.4)');
            ctx.strokeStyle = outerGlow;
            ctx.lineWidth = 20;
            ctx.lineCap = 'round';
            ctx.beginPath();
            ctx.moveTo(pivotX, pivotY);
            ctx.lineTo(wandEndX, wandEndY);
            ctx.stroke();
            
            // Middle layer
            const middleGradient = ctx.createLinearGradient(pivotX, pivotY, wandEndX, wandEndY);
            middleGradient.addColorStop(0, '#f0abfc');
            middleGradient.addColorStop(0.2, '#e879f9');
            middleGradient.addColorStop(0.4, '#d946a6');
            middleGradient.addColorStop(0.6, '#c026d3');
            middleGradient.addColorStop(0.8, '#a21caf');
            middleGradient.addColorStop(1, '#86198f');
            ctx.strokeStyle = middleGradient;
            ctx.lineWidth = 12;
            ctx.beginPath();
            ctx.moveTo(pivotX, pivotY);
            ctx.lineTo(wandEndX, wandEndY);
            ctx.stroke();
            
            // Inner shine layer
            ctx.shadowBlur = 10;
            const shineOffsetX = -4 * Math.sin(wandAngleRad);
            const shineOffsetY = 4 * Math.cos(wandAngleRad);
            const shineGradient = ctx.createLinearGradient(
                pivotX + shineOffsetX, pivotY + shineOffsetY, 
                wandEndX + shineOffsetX, wandEndY + shineOffsetY
            );
            shineGradient.addColorStop(0, 'rgba(255, 255, 255, 0.8)');
            shineGradient.addColorStop(0.5, 'rgba(255, 255, 255, 0.4)');
            shineGradient.addColorStop(1, 'rgba(255, 255, 255, 0.1)');
            ctx.strokeStyle = shineGradient;
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(pivotX + shineOffsetX, pivotY + shineOffsetY);
            ctx.lineTo(wandEndX + shineOffsetX, wandEndY + shineOffsetY);
            ctx.stroke();
            
            // Add sparkle lines
            const sparkleOffsetX = 3 * Math.sin(wandAngleRad);
            const sparkleOffsetY = -3 * Math.cos(wandAngleRad);
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.5)';
            ctx.lineWidth = 1.5;
            ctx.beginPath();
            ctx.moveTo(pivotX + sparkleOffsetX, pivotY + sparkleOffsetY);
            ctx.lineTo(wandEndX + sparkleOffsetX, wandEndY + sparkleOffsetY);
            ctx.stroke();
            
            // Add decorative gems and hearts along the wand
            ctx.shadowBlur = 12;
            const gemCount = Math.floor(length / 7);
            for (let i = 1; i <= gemCount; i++) {
                const t = i / (gemCount + 1);
                const gemX = pivotX + (wandEndX - pivotX) * t;
                const gemY = pivotY + (wandEndY - pivotY) * t;
                const gemSize = 5;
                
                // Gem rainbow glow
                const gemGlow = ctx.createRadialGradient(gemX, gemY, 0, gemX, gemY, gemSize * 3);
                if (i % 3 === 0) {
                    gemGlow.addColorStop(0, 'rgba(255, 105, 180, 0.8)');
                    gemGlow.addColorStop(1, 'rgba(255, 105, 180, 0)');
                } else if (i % 3 === 1) {
                    gemGlow.addColorStop(0, 'rgba(255, 215, 0, 0.8)');
                    gemGlow.addColorStop(1, 'rgba(255, 215, 0, 0)');
                } else {
                    gemGlow.addColorStop(0, 'rgba(138, 43, 226, 0.8)');
                    gemGlow.addColorStop(1, 'rgba(138, 43, 226, 0)');
                }
                ctx.fillStyle = gemGlow;
                ctx.beginPath();
                ctx.arc(gemX, gemY, gemSize * 3, 0, Math.PI * 2);
                ctx.fill();
                
                // Draw gem as diamond shape
                ctx.save();
                ctx.translate(gemX, gemY);
                ctx.rotate(wandAngleRad);
                
                ctx.fillStyle = i % 3 === 0 ? '#ff69b4' : (i % 3 === 1 ? '#ffd700' : '#da70d6');
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(0, -gemSize);
                ctx.lineTo(gemSize, 0);
                ctx.lineTo(0, gemSize);
                ctx.lineTo(-gemSize, 0);
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
                
                // Add sparkle on gem
                ctx.fillStyle = '#fff';
                ctx.beginPath();
                ctx.arc(-1, -1, 1.5, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.restore();
            }
            
            ctx.shadowBlur = 0;
            ctx.shadowColor = 'transparent';
            
            // Add ribbon emoji decoration near the star (Î®ºÏ†Ä Í∑∏Î†§ÏÑú Îí§Î°ú)
            const ribbonT = 0.75;
            const ribbonX = pivotX + (wandEndX - pivotX) * ribbonT;
            const ribbonY = pivotY + (wandEndY - pivotY) * ribbonT;
            drawRibbon(ribbonX - 20, ribbonY, wandAngleRad);
            
            // Draw star at the end with enhanced decoration (ÎÇòÏ§ëÏóê Í∑∏Î†§ÏÑú ÏïûÏúºÎ°ú)
            drawStar(wandEndX, wandEndY, 35, '#ffd700');
            
            // Add small sparkles around the star
            const sparklePositions = [
                {x: -15, y: -15}, {x: 15, y: -15}, 
                {x: -15, y: 15}, {x: 15, y: 15}
            ];
            ctx.fillStyle = '#fff';
            sparklePositions.forEach(pos => {
                ctx.font = '12px Arial';
                ctx.fillText('‚ú®', wandEndX + pos.x, wandEndY + pos.y);
            });
            
            // Draw force vector (Ìï≠ÏÉÅ ÏàòÌèâ 30ÎèÑ)
            const forceAngle = 30 * Math.PI / 180;
            const forceLength = 80;
            const forceEndX = wandEndX + forceLength * Math.cos(-forceAngle);
            const forceEndY = wandEndY + forceLength * Math.sin(-forceAngle);
            
            ctx.strokeStyle = '#dc2626';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(wandEndX, wandEndY);
            ctx.lineTo(forceEndX, forceEndY);
            ctx.stroke();
            
            // Arrow head
            drawArrowHead(forceEndX, forceEndY, Math.atan2(forceEndY - wandEndY, forceEndX - wandEndX));
            
            // Labels
            ctx.fillStyle = '#831843';
            ctx.font = 'bold 16px "Noto Serif KR"';
            ctx.fillText('O (ÌöåÏ†ÑÏ∂ï)', pivotX - 20, pivotY + 35);
            
            const labelX = pivotX + (wandEndX - pivotX) / 2;
            const labelY = pivotY + (wandEndY - pivotY) / 2 - 15;
            ctx.fillText(`${length} cm`, labelX - 20, labelY);
            
            ctx.fillStyle = '#d946a6';
            ctx.fillText(`ÏöîÏà†Î¥â Í∞ÅÎèÑ: ${wandAngle}¬∞`, pivotX + 10, pivotY - 25);
            
            ctx.fillStyle = '#dc2626';
            ctx.fillText('F = 10 N', forceEndX + 10, forceEndY - 10);
            
            // Calculate torque - ÌûòÍ≥º ÏöîÏà†Î¥â ÏÇ¨Ïù¥Ïùò Í∞ÅÎèÑ Í≥ÑÏÇ∞
            const r = length / 100; // convert to meters
            const F = 10; // N
            // ÏöîÏà†Î¥â Í∞ÅÎèÑÏôÄ ÌûòÏùò Í∞ÅÎèÑ Ï∞®Ïù¥ Í≥ÑÏÇ∞
            const effectiveAngle = Math.abs(wandAngle - (-30)); // ÌûòÏùÄ -30ÎèÑ Î∞©Ìñ•
            const effectiveAngleRad = effectiveAngle * Math.PI / 180;
            const torque = r * F * Math.sin(effectiveAngleRad);
            
            torqueResult.textContent = torque.toFixed(2) + ' N¬∑m';
        }
        
        function drawRibbon(x, y, wandAngle) {
            // Draw ribbon emoji with shadow and rotation (ÌÅ¨Í∏∞ Ï¶ùÍ∞Ä)
            ctx.save();
            ctx.translate(x + 22, y);
            ctx.rotate(wandAngle + 90 * Math.PI / 180);
            ctx.shadowColor = 'rgba(255, 105, 180, 0.6)';
            ctx.shadowBlur = 15;
            ctx.font = '45px Arial';
            ctx.fillText('üéÄ', -22, 12);
            ctx.shadowBlur = 0;
            ctx.shadowColor = 'transparent';
            ctx.restore();
        }
        
        function drawStar(x, y, size, color) {
            // Draw soft outer glow
            const outerGlow = ctx.createRadialGradient(x, y, 0, x, y, size * 1.8);
            outerGlow.addColorStop(0, 'rgba(255, 223, 186, 0.8)');
            outerGlow.addColorStop(0.4, 'rgba(255, 192, 203, 0.5)');
            outerGlow.addColorStop(0.7, 'rgba(255, 182, 193, 0.3)');
            outerGlow.addColorStop(1, 'rgba(255, 182, 193, 0)');
            ctx.fillStyle = outerGlow;
            ctx.beginPath();
            ctx.arc(x, y, size * 1.8, 0, Math.PI * 2);
            ctx.fill();
            
            // Draw main 5-pointed star with smooth curves
            ctx.shadowColor = 'rgba(255, 215, 0, 0.9)';
            ctx.shadowBlur = 25;
            
            const starGradient = ctx.createRadialGradient(x - size * 0.3, y - size * 0.3, 0, x, y, size);
            starGradient.addColorStop(0, '#fffef0');
            starGradient.addColorStop(0.3, '#fff9c4');
            starGradient.addColorStop(0.6, '#ffd700');
            starGradient.addColorStop(0.85, '#ffa500');
            starGradient.addColorStop(1, '#ff8c00');
            
            ctx.fillStyle = starGradient;
            ctx.strokeStyle = '#fff';
            ctx.lineWidth = 4;
            ctx.lineJoin = 'round';
            
            ctx.beginPath();
            for (let i = 0; i < 5; i++) {
                const angle = (i * 2 * Math.PI) / 5 - Math.PI / 2;
                const px = x + Math.cos(angle) * size;
                const py = y + Math.sin(angle) * size;
                if (i === 0) ctx.moveTo(px, py);
                else ctx.lineTo(px, py);
                
                const innerAngle = angle + Math.PI / 5;
                const innerX = x + Math.cos(innerAngle) * (size * 0.38);
                const innerY = y + Math.sin(innerAngle) * (size * 0.38);
                ctx.lineTo(innerX, innerY);
            }
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // Add inner highlight circle
            ctx.shadowBlur = 15;
            const innerGlow = ctx.createRadialGradient(x, y, 0, x, y, size * 0.3);
            innerGlow.addColorStop(0, 'rgba(255, 255, 255, 1)');
            innerGlow.addColorStop(0.5, 'rgba(255, 255, 255, 0.8)');
            innerGlow.addColorStop(1, 'rgba(255, 255, 255, 0)');
            ctx.fillStyle = innerGlow;
            ctx.beginPath();
            ctx.arc(x, y, size * 0.3, 0, Math.PI * 2);
            ctx.fill();
            
            // Reset shadow
            ctx.shadowColor = 'transparent';
            ctx.shadowBlur = 0;
            
            // Add sparkle points at each star tip
            ctx.fillStyle = '#fff';
            for (let i = 0; i < 5; i++) {
                const angle = (i * 2 * Math.PI) / 5 - Math.PI / 2;
                const sparkleX = x + Math.cos(angle) * size * 0.85;
                const sparkleY = y + Math.sin(angle) * size * 0.85;
                
                // Draw sparkle
                ctx.beginPath();
                ctx.arc(sparkleX, sparkleY, 3, 0, Math.PI * 2);
                ctx.fill();
                
                // Draw small cross sparkle
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 1.5;
                ctx.beginPath();
                ctx.moveTo(sparkleX - 5, sparkleY);
                ctx.lineTo(sparkleX + 5, sparkleY);
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(sparkleX, sparkleY - 5);
                ctx.lineTo(sparkleX, sparkleY + 5);
                ctx.stroke();
            }
            
            // Add rotating shimmer effect
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.7)';
            ctx.lineWidth = 2;
            ctx.lineCap = 'round';
            for (let i = 0; i < 3; i++) {
                const angle = (i * 2 * Math.PI) / 3;
                const startX = x + Math.cos(angle) * (size * 0.15);
                const startY = y + Math.sin(angle) * (size * 0.15);
                const endX = x + Math.cos(angle) * (size * 0.55);
                const endY = y + Math.sin(angle) * (size * 0.55);
                ctx.beginPath();
                ctx.moveTo(startX, startY);
                ctx.lineTo(endX, endY);
                ctx.stroke();
            }
        }
        
        function drawArrowHead(x, y, angle) {
            const headLength = 12;
            ctx.fillStyle = '#dc2626';
            ctx.beginPath();
            ctx.moveTo(x, y);
            ctx.lineTo(x - headLength * Math.cos(angle - Math.PI / 6),
                       y - headLength * Math.sin(angle - Math.PI / 6));
            ctx.lineTo(x - headLength * Math.cos(angle + Math.PI / 6),
                       y - headLength * Math.sin(angle + Math.PI / 6));
            ctx.closePath();
            ctx.fill();
        }
        
        function createSparkles() {
            const wandEndX = 100 + lengthSlider.value * 8;
            const wandEndY = 125;
            
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'sparkle';
                    sparkle.style.left = (wandEndX + Math.random() * 40 - 20) + 'px';
                    sparkle.style.top = (wandEndY + Math.random() * 40 - 20) + 'px';
                    sparkle.innerHTML = '‚ú®';
                    sparkle.style.fontSize = (Math.random() * 15 + 15) + 'px';
                    document.querySelector('.canvas-container').appendChild(sparkle);
                    
                    setTimeout(() => sparkle.remove(), 1000);
                }, i * 100);
            }
        }
        
        lengthSlider.addEventListener('input', (e) => {
            const length = e.target.value;
            const angle = angleSlider.value;
            lengthValue.textContent = length + ' cm';
            drawSimulation(length, angle);
            createSparkles();
        });
        
        angleSlider.addEventListener('input', (e) => {
            const length = lengthSlider.value;
            const angle = e.target.value;
            angleValue.textContent = angle + '¬∞';
            drawSimulation(length, angle);
        });
        
        function checkAnswer(questionNum, userAnswer) {
            const feedback = document.getElementById(`feedback${questionNum}`);
            const buttons = document.querySelectorAll(`.quiz-item:nth-child(${questionNum}) .quiz-btn`);
            
            buttons.forEach(btn => btn.disabled = true);
            
            if (userAnswer === correctAnswers[questionNum - 1]) {
                feedback.className = 'quiz-feedback correct';
                feedback.style.display = 'block';
                quizAnswers[questionNum - 1] = true;
                
                // Ìå°ÌååÎ†à Ïù¥Ìå©Ìä∏ Ïã§Ìñâ!
                createConfetti();
                
                if (questionNum === 1) {
                    feedback.textContent = '‚úì Ï†ïÎãµÏûÖÎãàÎã§! ÎèåÎ¶ºÌûò(œÑ)ÏùÄ œÑ = r √ó F √ó sinŒ∏ Î°ú Í≥ÑÏÇ∞Îê©ÎãàÎã§. Ïó¨Í∏∞ÏÑú rÏùÄ ÌöåÏ†ÑÏ∂ïÏúºÎ°úÎ∂ÄÌÑ∞Ïùò Í±∞Î¶¨(ÌåîÍ∏∏Ïù¥), FÎäî ÌûòÏùò ÌÅ¨Í∏∞, Œ∏Îäî Í∞ÅÎèÑÏûÖÎãàÎã§. ÌûòÏùò ÌÅ¨Í∏∞Í∞Ä ÌÅ¥ÏàòÎ°ù, ÌåîÍ∏∏Ïù¥Í∞Ä Í∏∏ÏàòÎ°ù ÎèåÎ¶ºÌûòÏù¥ Ïª§ÏßëÎãàÎã§.';
                } else if (questionNum === 2) {
                    feedback.textContent = '‚úì Ï†ïÎãµÏûÖÎãàÎã§! ÎèåÎ¶ºÌûòÏùÄ ÌåîÍ∏∏Ïù¥Ïóê ÎπÑÎ°ÄÌï©ÎãàÎã§. Îî∞ÎùºÏÑú ÏöîÏà†Î¥âÏùò Í∏∏Ïù¥Í∞Ä 2Î∞∞Í∞Ä ÎêòÎ©¥ ÎèåÎ¶ºÌûòÎèÑ 2Î∞∞Í∞Ä Îê©ÎãàÎã§. Ïù¥Í≤ÉÏù¥ Í∏¥ Î†åÏπòÍ∞Ä ÏßßÏùÄ Î†åÏπòÎ≥¥Îã§ Î≥ºÌä∏Î•º ÏâΩÍ≤å ÎèåÎ¶¥ Ïàò ÏûàÎäî Ïù¥Ïú†ÏûÖÎãàÎã§.';
                } else if (questionNum === 3) {
                    feedback.textContent = '‚úì Ï†ïÎãµÏûÖÎãàÎã§! ÎèåÎ¶ºÌûòÏùÄ œÑ = r √ó F √ó sinŒ∏ Ïù¥ÎØÄÎ°ú, Œ∏Í∞Ä 90¬∞Ïùº Îïå sinŒ∏ = 1Î°ú ÏµúÎåÄÍ∞íÏù¥ Îê©ÎãàÎã§. Ï¶â, ÌûòÏù¥ ÌåîÍ∏∏Ïù¥Ïóê ÏàòÏßÅÏúºÎ°ú ÏûëÏö©Ìï† Îïå ÎèåÎ¶ºÌûòÏù¥ Í∞ÄÏû• ÌÅΩÎãàÎã§. Î¨∏ÏùÑ Ïó¥ Îïå ÏÜêÏû°Ïù¥Î•º ÏàòÏßÅÏúºÎ°ú ÎØ∏Îäî Í≤ÉÏù¥ Í∞ÄÏû• Ìö®Ïú®Ï†ÅÏù∏ Ïù¥Ïú†ÏûÖÎãàÎã§.';
                }
            } else {
                feedback.className = 'quiz-feedback incorrect';
                feedback.style.display = 'block';
                feedback.textContent = '‚úó ÏïÑÏâΩÏäµÎãàÎã§. Îã§Ïãú ÏÉùÍ∞ÅÌï¥Î≥¥ÏÑ∏Ïöî!';
            }
            
            // Check if all answers are correct
            if (quizAnswers.every(answer => answer === true)) {
                setTimeout(() => {
                    goToPage(2);
                }, 2000);
            }
        }
        
        function goToPage(pageNum) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(`page${pageNum}`).classList.add('active');
            
            if (pageNum === 1) {
                // Reset quiz but keep feedback visible
                quizAnswers = [false, false, false];
                document.querySelectorAll('.quiz-btn').forEach(btn => btn.disabled = false);
                document.querySelectorAll('.quiz-feedback').forEach(fb => {
                    fb.style.display = 'none';
                    fb.className = 'quiz-feedback';
                    fb.textContent = '';
                });
                drawSimulation(lengthSlider.value, angleSlider.value);
            }
        }
        
        function createConfetti() {
            const colors = ['#ff69b4', '#ffc0cb', '#da70d6', '#ba55d3', '#dda0dd', '#f0abfc', '#d946a6', '#ffd700'];
            const shapes = ['üéâ', 'üéä', '‚≠ê', '‚ú®', 'üíñ', 'üíï', 'üå∏', 'üéÄ'];
            
            // 50Í∞úÏùò ÏÉâÏ¢ÖÏù¥ ÏÉùÏÑ±
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    
                    // ÎûúÎç§ ÏúÑÏπò (ÌôîÎ©¥ ÏÉÅÎã®ÏóêÏÑú ÏãúÏûë)
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.top = '-20px';
                    
                    // ÎûúÎç§ Î™®Ïñë ÏÑ†ÌÉù
                    const useShape = Math.random() > 0.5;
                    if (useShape) {
                        confetti.innerHTML = shapes[Math.floor(Math.random() * shapes.length)];
                        confetti.style.fontSize = (Math.random() * 20 + 20) + 'px';
                    } else {
                        // ÏÉâÏ¢ÖÏù¥ Ï°∞Í∞Å
                        confetti.style.width = (Math.random() * 10 + 5) + 'px';
                        confetti.style.height = (Math.random() * 10 + 5) + 'px';
                        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                        confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                    }
                    
                    // ÎûúÎç§ Ïï†ÎãàÎ©îÏù¥ÏÖò ÏßÄÏó∞
                    confetti.style.animationDelay = (Math.random() * 0.3) + 's';
                    confetti.style.animationDuration = (Math.random() * 1 + 1.5) + 's';
                    
                    document.body.appendChild(confetti);
                    
                    // Ïï†ÎãàÎ©îÏù¥ÏÖò ÎÅùÎÇòÎ©¥ Ï†úÍ±∞
                    setTimeout(() => confetti.remove(), 2500);
                }, i * 20);
            }
        }
        
        // Initial draw
        drawSimulation(20, 0);
    </script>
</body>
</html>