<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F1 ë“±ì†ì›ìš´ë™ ë ˆì´ì‹±</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #e63946 0%, #c1121f 100%);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(230, 57, 70, 0.3);
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .problem-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .problem-text {
            font-size: 1.1em;
            line-height: 1.8;
            margin-bottom: 20px;
        }
        
        .diagram {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
        
        canvas {
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            background: white;
        }
        
        .questions {
            margin: 20px 0;
        }
        
        .question-item {
            margin: 15px 0;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border-left: 4px solid #e63946;
        }
        
        .answer-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }
        
        .radio-label {
            display: flex;
            align-items: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .radio-label:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }
        
        .radio-label input {
            margin-right: 10px;
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .btn {
            flex: 1;
            padding: 15px 30px;
            font-size: 1.2em;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .btn-submit {
            background: linear-gradient(135deg, #06ffa5 0%, #00d4aa 100%);
            color: #1a1a2e;
        }
        
        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(6, 255, 165, 0.3);
        }
        
        .btn-new {
            background: linear-gradient(135deg, #e63946 0%, #c1121f 100%);
            color: white;
        }
        
        .btn-new:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(230, 57, 70, 0.3);
        }
        
        .result {
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            font-size: 1.1em;
            display: none;
        }
        
        .result.show {
            display: block;
        }
        
        .result.success {
            background: linear-gradient(135deg, #06ffa5 0%, #00d4aa 100%);
            color: #1a1a2e;
        }
        
        .result.failure {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
        }
        
        .celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
            display: none;
        }
        
        .celebration.active {
            display: block;
        }
        
        .trophy {
            font-size: 150px;
            text-align: center;
            margin: 50px 0;
            animation: trophyBounce 0.6s ease-in-out;
        }
        
        @keyframes trophyBounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        .particle {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }
        
        @keyframes explode {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(0);
                opacity: 0;
            }
        }
        
        .solution {
            margin-top: 20px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            border-left: 4px solid #ffd700;
        }
        
        .solution h3 {
            color: #ffd700;
            margin-bottom: 15px;
        }
        
        .solution p {
            line-height: 1.8;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸï¸ F1 ë¬¼ë¦¬í•™ ë ˆì´ì‹±</h1>
            <div class="subtitle">ë“±ì†ì›ìš´ë™ ì±Œë¦°ì§€</div>
        </div>
        
        <div class="problem-card">
            <div class="problem-text" id="problemText"></div>
            
            <div class="diagram">
                <canvas id="canvas" width="400" height="400"></canvas>
            </div>
            
            <div class="questions">
                <div class="question-item" id="question1"></div>
                <div class="question-item" id="question2"></div>
                <div class="question-item">ã„·. êµ¬ì‹¬ ê°€ì†ë„ì˜ í¬ê¸°ëŠ” Aê°€ Bë³´ë‹¤ ì‘ë‹¤.</div>
            </div>
            
            <div class="answer-section">
                <label class="radio-label">
                    <input type="radio" name="answer" value="1"> â‘  ã„±
                </label>
                <label class="radio-label">
                    <input type="radio" name="answer" value="2"> â‘¡ ã„·
                </label>
                <label class="radio-label">
                    <input type="radio" name="answer" value="3"> â‘¢ ã„±, ã„´
                </label>
                <label class="radio-label">
                    <input type="radio" name="answer" value="4"> â‘£ ã„´, ã„·
                </label>
                <label class="radio-label">
                    <input type="radio" name="answer" value="5"> â‘¤ ã„±, ã„´, ã„·
                </label>
            </div>
            
            <div class="button-group">
                <button class="btn btn-submit" onclick="checkAnswer()">ğŸ ì™„ì£¼ ì‹œë„</button>
                <button class="btn btn-new" onclick="newProblem()">ğŸ”„ ìƒˆë¡œìš´ ë ˆì´ìŠ¤</button>
            </div>
            
            <div class="result" id="result"></div>
        </div>
    </div>
    
    <div class="celebration" id="celebration"></div>
    
    <script>
        let currentProblem = {};
        let animationId = null;
        let carA = { angle: Math.PI / 2 };
        let carB = { angle: Math.PI / 2 };
        
        function newProblem() {
            // ì´ì „ ì• ë‹ˆë©”ì´ì…˜ ì¤‘ì§€
            if (animationId) {
                cancelAnimationFrame(animationId);
            }
            
            // ëœë¤ ë³€ìˆ˜ ìƒì„±
            const radiusA = Math.floor(Math.random() * 3 + 2); // 2-4m
            const radiusB = Math.floor(Math.random() * 3 + 5); // 5-7m
            const timeToC = Math.floor(Math.random() * 2 + 5); // 5-6ì´ˆ
            
            // Aì˜ ì£¼ê¸° ê³„ì‚° (1/4 ë°”í€´ë¥¼ timeToCì´ˆì—)
            const periodA = timeToC * 4;
            
            // Bì˜ ì£¼ê¸°ëŠ” timeToCì´ˆ (í•œ ë°”í€´)
            const periodB = timeToC;
            
            // ê³„ì‚°
            const speedA = (2 * Math.PI * radiusA) / periodA;
            const speedB = (2 * Math.PI * radiusB) / periodB;
            const accelA = (4 * Math.PI * Math.PI * radiusA) / (periodA * periodA);
            const accelB = (4 * Math.PI * Math.PI * radiusB) / (periodB * periodB);
            
            // ã„±ì—ì„œ ì‚¬ìš©í•  ëœë¤ ì£¼ê¸°ê°’ (ì‹¤ì œ ì£¼ê¸°ì™€ ë‹¤ë¥´ê²Œ)
            let randomPeriod;
            do {
                randomPeriod = Math.floor(Math.random() * 5 + 6); // 6-10ì´ˆ
            } while (randomPeriod === periodA); // ì‹¤ì œ ì£¼ê¸°ì™€ ê°™ìœ¼ë©´ ë‹¤ì‹œ ìƒì„±
            
            // ã„´ì—ì„œ ì‚¬ìš©í•  ì†ë ¥ ê°’ (ì‹¤ì œ ì†ë ¥ê³¼ ë‹¤ë¥´ê²Œ)
            const correctSpeedCoeff = (2 * radiusB / timeToC);
            let displaySpeedCoeff;
            do {
                displaySpeedCoeff = Math.floor(Math.random() * 5 + 2); // 2-6 ì •ë„
            } while (Math.abs(displaySpeedCoeff - correctSpeedCoeff) < 0.5); // ì‹¤ì œ ê°’ê³¼ ì¶©ë¶„íˆ ë‹¤ë¥´ê²Œ
            
            currentProblem = {
                radiusA, radiusB, periodA, periodB, timeToC, randomPeriod,
                speedA, speedB, accelA, accelB,
                correctSpeedCoeff, displaySpeedCoeff
            };
            
            // ë¬¸ì œ í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
            document.getElementById('problemText').innerHTML = `
                ê·¸ë¦¼ì€ ë¬¼ì²´ A, Bê°€ xyí‰ë©´ìƒì˜ ì›ì ì„ ì¤‘ì‹¬ìœ¼ë¡œ ë°˜ì§€ë¦„ì´ ê°ê° 
                <strong>${radiusA}m, ${radiusB}m</strong>ì¸ ê¶¤ë„ë¥¼ ë”°ë¼ ë“±ì† ì›ìš´ë™ í•˜ëŠ” ëª¨ìŠµì„ ë‚˜íƒ€ë‚¸ ê²ƒì´ë‹¤. 
                A, Bê°€ yì¶•ìƒì˜ ì  a, bì—ì„œ ë™ì‹œì— ì¶œë°œí•˜ì—¬, <strong>${timeToC}ì´ˆ</strong> í›„ì— AëŠ” xì¶•ìƒì˜ ì  cì— 
                ì²˜ìŒìœ¼ë¡œ ë„ë‹¬í•˜ê³ , BëŠ” í•œ ë°”í€´ë¥¼ ëŒì•„ bì— ë„ë‹¬í•œë‹¤.
            `;
            
            // ì§ˆë¬¸ ì—…ë°ì´íŠ¸
            document.getElementById('question1').textContent = `ã„±. Aì˜ ì£¼ê¸°ëŠ” ${randomPeriod}ì´ˆì´ë‹¤.`;
            
            const displaySpeed = displaySpeedCoeff.toFixed(0);
            document.getElementById('question2').textContent = `ã„´. Bì˜ ì†ë ¥ì€ ${displaySpeed}Ï€/3 m/sì´ë‹¤.`;
            
            // ìë™ì°¨ ì´ˆê¸°í™”
            carA.angle = Math.PI / 2;
            carB.angle = Math.PI / 2;
            
            // ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘
            animate();
            
            // ê²°ê³¼ ìˆ¨ê¸°ê¸°
            document.getElementById('result').className = 'result';
            document.querySelectorAll('input[name="answer"]').forEach(radio => radio.checked = false);
        }
        
        function animate() {
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            
            drawDiagram(ctx);
            
            // ê°ì†ë„ ê³„ì‚° (rad/s)
            const omegaA = (2 * Math.PI) / currentProblem.periodA;
            const omegaB = (2 * Math.PI) / currentProblem.periodB;
            
            // ê°ë„ ì—…ë°ì´íŠ¸ (60fps ê¸°ì¤€ = 1/60ì´ˆ)
            carA.angle += omegaA / 60;
            carB.angle += omegaB / 60;
            
            animationId = requestAnimationFrame(animate);
        }
        
        function drawDiagram(ctx) {
            const centerX = 200;
            const centerY = 200;
            const scale = 25;
            
            ctx.clearRect(0, 0, 400, 400);
            
            // ì¢Œí‘œì¶•
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, centerY);
            ctx.lineTo(400, centerY);
            ctx.moveTo(centerX, 0);
            ctx.lineTo(centerX, 400);
            ctx.stroke();
            
            // ì¶• ë ˆì´ë¸”
            ctx.fillStyle = '#333';
            ctx.font = '14px Arial';
            ctx.fillText('x(m)', 370, centerY - 10);
            ctx.fillText('y(m)', centerX + 10, 20);
            ctx.fillText('O', centerX + 5, centerY - 5);
            
            // ì› B (í° ì›)
            ctx.strokeStyle = '#999';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.arc(centerX, centerY, currentProblem.radiusB * scale, 0, 2 * Math.PI);
            ctx.stroke();
            
            // ì› A (ì‘ì€ ì›)
            ctx.strokeStyle = '#666';
            ctx.beginPath();
            ctx.arc(centerX, centerY, currentProblem.radiusA * scale, 0, 2 * Math.PI);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // ì  í‘œì‹œ
            ctx.fillStyle = '#333';
            ctx.font = 'bold 14px Arial';
            
            // ì  a
            ctx.fillText('a', centerX + 10, centerY - currentProblem.radiusA * scale);
            
            // ì  b
            ctx.fillText('b', centerX + 10, centerY - currentProblem.radiusB * scale);
            
            // ì  c
            ctx.fillText('c', centerX + currentProblem.radiusA * scale + 10, centerY);
            
            // F1 ì¹´ A ê·¸ë¦¬ê¸°
            const carAX = centerX + currentProblem.radiusA * scale * Math.cos(carA.angle);
            const carAY = centerY - currentProblem.radiusA * scale * Math.sin(carA.angle);
            drawCar(ctx, carAX, carAY, carA.angle, '#e63946', 'A');
            
            // F1 ì¹´ B ê·¸ë¦¬ê¸°
            const carBX = centerX + currentProblem.radiusB * scale * Math.cos(carB.angle);
            const carBY = centerY - currentProblem.radiusB * scale * Math.sin(carB.angle);
            drawCar(ctx, carBX, carBY, carB.angle, '#1a73e8', 'B');
        }
        
        function drawCar(ctx, x, y, angle, color, label) {
            ctx.save();
            ctx.translate(x, y);
            // ì§„í–‰ ë°©í–¥ì„ ë°”ë¼ë³´ë„ë¡ íšŒì „
            ctx.rotate(-angle);
            
            // ì°¨ì²´
            ctx.fillStyle = color;
            ctx.beginPath();
            ctx.moveTo(0, -12);
            ctx.lineTo(8, 0);
            ctx.lineTo(6, 12);
            ctx.lineTo(-6, 12);
            ctx.lineTo(-8, 0);
            ctx.closePath();
            ctx.fill();
            
            // ì•ë¶€ë¶„ (ë…¸ì¦ˆ)
            ctx.fillStyle = color;
            ctx.beginPath();
            ctx.arc(0, -12, 4, 0, Math.PI * 2);
            ctx.fill();
            
            // ìœ™
            ctx.strokeStyle = color;
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(-10, 8);
            ctx.lineTo(10, 8);
            ctx.stroke();
            
            // íƒ€ì´ì–´
            ctx.fillStyle = '#000';
            ctx.fillRect(-8, -4, 3, 6);
            ctx.fillRect(5, -4, 3, 6);
            ctx.fillRect(-8, 4, 3, 6);
            ctx.fillRect(5, 4, 3, 6);
            
            // ë¼ë²¨
            ctx.fillStyle = '#fff';
            ctx.font = 'bold 10px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(label, 0, 2);
            
            ctx.restore();
        }
        
        function checkAnswer() {
            const selectedAnswer = document.querySelector('input[name="answer"]:checked');
            
            if (!selectedAnswer) {
                alert('ë‹µì„ ì„ íƒí•´ì£¼ì„¸ìš”!');
                return;
            }
            
            const answerValue = parseInt(selectedAnswer.value);
            
            // ì •ë‹µ ê³„ì‚°
            const correct1 = currentProblem.periodA === currentProblem.randomPeriod; // í•­ìƒ false
            const correct2 = Math.abs(currentProblem.correctSpeedCoeff - currentProblem.displaySpeedCoeff) < 0.5; // í•­ìƒ false
            const correct3 = currentProblem.accelA < currentProblem.accelB;
            
            // ì˜¬ë°”ë¥¸ ë‹µ ê²°ì •
            let correctAnswer;
            if (correct1 && correct2 && correct3) correctAnswer = 5; // ã„±, ã„´, ã„·
            else if (correct2 && correct3) correctAnswer = 4; // ã„´, ã„·
            else if (correct1 && correct2) correctAnswer = 3; // ã„±, ã„´
            else if (correct3) correctAnswer = 2; // ã„·
            else if (correct1) correctAnswer = 1; // ã„±
            else correctAnswer = 0; // ì—†ìŒ (ì´ëŸ° ê²½ìš°ëŠ” ì—†ì–´ì•¼ í•¨)
            
            const resultDiv = document.getElementById('result');
            
            if (answerValue === correctAnswer) {
                // ì •ë‹µ!
                resultDiv.className = 'result success show';
                resultDiv.innerHTML = `
                    <div class="trophy">ğŸ†</div>
                    <h2 style="text-align: center; font-size: 2em; margin-bottom: 20px;">ğŸ‰ ì™„ì£¼ ì„±ê³µ! 1ë“±! ğŸ‰</h2>
                    <p style="text-align: center; font-size: 1.3em;">ì •ë‹µì…ë‹ˆë‹¤! F1 ì±”í”¼ì–¸!</p>
                `;
                createFireworks();
            } else {
                // ì˜¤ë‹µ
                const displaySpeed = (currentProblem.speedB * 3 / Math.PI).toFixed(0);
                
                const correctAnswers = [];
                if (correct1) correctAnswers.push('ã„±');
                if (correct2) correctAnswers.push('ã„´');
                if (correct3) correctAnswers.push('ã„·');
                const correctAnswerText = correctAnswers.join(', ');
                
                resultDiv.className = 'result failure show';
                resultDiv.innerHTML = `
                    <h2 style="text-align: center; font-size: 2em; margin-bottom: 20px;">âŒ ì™„ì£¼ ì‹¤íŒ¨...</h2>
                    <div class="solution">
                        <h3>ğŸ“ í’€ì´</h3>
                        <p><strong>ì£¼ì–´ì§„ ì¡°ê±´:</strong></p>
                        <p>â€¢ Aì˜ ë°˜ì§€ë¦„: ${currentProblem.radiusA}m, Bì˜ ë°˜ì§€ë¦„: ${currentProblem.radiusB}m</p>
                        <p>â€¢ ${currentProblem.timeToC}ì´ˆ í›„ AëŠ” ì  cì— ë„ë‹¬ (1/4 ë°”í€´), BëŠ” í•œ ë°”í€´ ì™„ë£Œ</p>
                        <p></p>
                        <p><strong>ã„±. Aì˜ ì£¼ê¸°:</strong></p>
                        <p>Aê°€ 1/4 ë°”í€´(90Â°)ë¥¼ ${currentProblem.timeToC}ì´ˆì— ë„ë‹¬í•˜ë¯€ë¡œ,</p>
                        <p>Aì˜ ì£¼ê¸° T_A = ${currentProblem.timeToC} Ã— 4 = ${currentProblem.periodA}ì´ˆ</p>
                        <p>ë¬¸ì œì—ì„œ ì œì‹œí•œ ${currentProblem.randomPeriod}ì´ˆì™€ ${currentProblem.periodA === currentProblem.randomPeriod ? 'ê°™ë‹¤' : 'ë‹¤ë¥´ë‹¤'}</p>
                        <p>ë”°ë¼ì„œ "${correct1 ? 'ì°¸' : 'ê±°ì§“'}"</p>
                        <p></p>
                        <p><strong>ã„´. Bì˜ ì†ë ¥:</strong></p>
                        <p>Bê°€ í•œ ë°”í€´ë¥¼ ${currentProblem.timeToC}ì´ˆì— ì™„ë£Œí•˜ë¯€ë¡œ,</p>
                        <p>Bì˜ ì£¼ê¸° T_B = ${currentProblem.timeToC}ì´ˆ</p>
                        <p>Bì˜ ì†ë ¥ v_B = 2Ï€r_B / T_B = 2Ï€ Ã— ${currentProblem.radiusB} / ${currentProblem.timeToC}</p>
                        <p>= ${currentProblem.correctSpeedCoeff.toFixed(2)}Ï€ m/s = ${currentProblem.correctSpeedCoeff.toFixed(0)}Ï€/3 m/s</p>
                        <p>ë¬¸ì œì—ì„œ ì œì‹œí•œ ${currentProblem.displaySpeedCoeff.toFixed(0)}Ï€/3 m/sì™€ ë‹¤ë¥´ë‹¤</p>
                        <p>ë”°ë¼ì„œ "ê±°ì§“"</p>
                        <p></p>
                        <p><strong>ã„·. êµ¬ì‹¬ ê°€ì†ë„:</strong></p>
                        <p>êµ¬ì‹¬ ê°€ì†ë„ a = vÂ²/r = 4Ï€Â²r / TÂ²</p>
                        <p>a_A = 4Ï€Â² Ã— ${currentProblem.radiusA} / ${currentProblem.periodA}Â² = ${currentProblem.accelA.toFixed(3)} m/sÂ²</p>
                        <p>a_B = 4Ï€Â² Ã— ${currentProblem.radiusB} / ${currentProblem.timeToC}Â² = ${currentProblem.accelB.toFixed(3)} m/sÂ²</p>
                        <p>ë”°ë¼ì„œ Aê°€ Bë³´ë‹¤ ${currentProblem.accelA < currentProblem.accelB ? 'ì‘ë‹¤' : 'í¬ë‹¤'} â†’ "${correct3 ? 'ì°¸' : 'ê±°ì§“'}"</p>
                        <p></p>
                        <p style="color: #ffd700; font-weight: bold; font-size: 1.2em;">ì •ë‹µ: ${correctAnswerText}</p>
                    </div>
                `;
            }
        }
        
        function createFireworks() {
            const celebration = document.getElementById('celebration');
            celebration.className = 'celebration active';
            celebration.innerHTML = '';
            
            const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#ffd93d', '#6bcf7f', '#ff69b4', '#f38181', '#aa96da'];
            
            // ì—¬ëŸ¬ ìœ„ì¹˜ì—ì„œ ë¶ˆê½ƒë†€ì´ ë°œì‚¬
            for (let burst = 0; burst < 8; burst++) {
                setTimeout(() => {
                    const burstX = 20 + Math.random() * 60;
                    const burstY = 20 + Math.random() * 60;
                    
                    for (let i = 0; i < 30; i++) {
                        const particle = document.createElement('div');
                        particle.className = 'particle';
                        particle.style.left = burstX + '%';
                        particle.style.top = burstY + '%';
                        particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                        
                        const angle = (Math.PI * 2 * i) / 30;
                        const velocity = 100 + Math.random() * 100;
                        const tx = Math.cos(angle) * velocity;
                        const ty = Math.sin(angle) * velocity;
                        
                        particle.style.setProperty('--tx', tx + 'px');
                        particle.style.setProperty('--ty', ty + 'px');
                        particle.style.animation = 'explode 1s ease-out forwards';
                        
                        celebration.appendChild(particle);
                        
                        setTimeout(() => particle.remove(), 1000);
                    }
                }, burst * 200);
            }
            
            setTimeout(() => {
                celebration.className = 'celebration';
            }, 3000);
        }
        
        // ì´ˆê¸° ë¬¸ì œ ìƒì„±
        newProblem();
    </script>
</body>
</html>