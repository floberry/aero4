<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í† í¬ ê³„ì‚° ì—°ìŠµ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 900px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
            font-size: 28px;
        }
        
        .scenario-badge {
            display: inline-block;
            padding: 8px 16px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 15px;
        }
        
        .problem-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            border: 2px solid #e9ecef;
        }
        
        .problem-text {
            font-size: 18px;
            line-height: 1.8;
            color: #333;
            margin-bottom: 20px;
        }
        
        .highlight {
            color: #667eea;
            font-weight: bold;
            font-size: 20px;
        }
        
        .diagram {
            background: white;
            padding: 30px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }
        
        canvas {
            border: 2px solid #dee2e6;
            border-radius: 8px;
            max-width: 100%;
        }
        
        .input-section {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
        }
        
        .input-group {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        label {
            font-size: 18px;
            color: #495057;
            min-width: 120px;
        }
        
        input {
            flex: 1;
            padding: 12px 15px;
            font-size: 16px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            transition: all 0.3s;
        }
        
        input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        button {
            flex: 1;
            padding: 15px 30px;
            font-size: 16px;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            color: white;
        }
        
        .btn-new {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .btn-new:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-check {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        
        .btn-check:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(245, 87, 108, 0.4);
        }
        
        .feedback {
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            text-align: center;
            display: none;
        }
        
        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
            display: block;
        }
        
        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
            display: block;
        }
        
        .formula {
            background: #e7f3ff;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            text-align: center;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            color: #004085;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ í† í¬(ëŒë¦¼í˜) ê³„ì‚° ì—°ìŠµ</h1>
        
        <div class="problem-section">
            <div class="scenario-badge" id="scenarioBadge">ğŸ”§ ë Œì¹˜ì™€ ë„ˆíŠ¸</div>
            <div class="problem-text" id="problemText">
                ë‹¤ìŒ ê·¸ë¦¼ê³¼ ê°™ì´ ê¸¸ì´ê°€ <span class="highlight" id="length">20</span> cmì¸ ë Œì¹˜ë¥¼ ì´ìš©í•´ 
                <span class="highlight" id="force">10</span> Nì˜ í˜ì„ <span class="highlight" id="angle">30</span>Â°
                ê°ë„ë¡œ ì‘ìš©í•˜ì˜€ì„ ë•Œ ë„ˆíŠ¸ì— ì‘ìš©í•˜ëŠ” ëŒë¦¼í˜ì˜ í¬ê¸°ëŠ” ëª‡ NÂ·mì¸ê°€?
            </div>
            
            <div class="diagram">
                <canvas id="canvas" width="600" height="300"></canvas>
            </div>
            
            <div class="formula">
                í† í¬(Ï„) = r Ã— F Ã— sin(Î¸)<br>
                ì—¬ê¸°ì„œ r: íšŒì „ì¶•ìœ¼ë¡œë¶€í„°ì˜ ê±°ë¦¬(m), F: í˜(N), Î¸: ê°ë„(Â°)
            </div>
        </div>
        
        <div class="input-section">
            <div class="input-group">
                <label>ë‹µ:</label>
                <input type="number" id="answer" step="0.01" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: 1.73)">
                <span style="font-size: 18px; color: #495057; font-weight: bold;">NÂ·m</span>
            </div>
            
            <div class="button-group">
                <button class="btn-new" onclick="newProblem()">ğŸ”„ ìƒˆ ë¬¸ì œ</button>
                <button class="btn-check" onclick="checkAnswer()">âœ“ ì •ë‹µ í™•ì¸</button>
            </div>
            
            <div class="feedback" id="feedback"></div>
        </div>
    </div>

    <script>
        const scenarios = [
            {
                name: 'ğŸšª ë¬¸ ì—´ê¸°',
                text: 'ë‹¤ìŒ ê·¸ë¦¼ê³¼ ê°™ì´ ê²½ì²©ìœ¼ë¡œë¶€í„° <span class="highlight" id="length">LENGTH</span> cm ë–¨ì–´ì§„ ì†ì¡ì´ì— <span class="highlight" id="force">FORCE</span> Nì˜ í˜ì„ <span class="highlight" id="angle">ANGLE</span>Â° ê°ë„ë¡œ ì‘ìš©í•˜ì˜€ì„ ë•Œ ë¬¸ì— ì‘ìš©í•˜ëŠ” ëŒë¦¼í˜ì˜ í¬ê¸°ëŠ” ëª‡ NÂ·mì¸ê°€?',
                draw: drawDoor
            },
            {
                name: 'ğŸ£ ë‚šì‹¯ëŒ€',
                text: 'ë‹¤ìŒ ê·¸ë¦¼ê³¼ ê°™ì´ ê¸¸ì´ê°€ <span class="highlight" id="length">LENGTH</span> cmì¸ ë‚šì‹¯ëŒ€ì— ë¬¼ê³ ê¸°ê°€ <span class="highlight" id="force">FORCE</span> Nì˜ í˜ìœ¼ë¡œ <span class="highlight" id="angle">ANGLE</span>Â° ê°ë„ë¡œ ë‹¹ê¸¸ ë•Œ ì†ì— ì‘ìš©í•˜ëŠ” ëŒë¦¼í˜ì˜ í¬ê¸°ëŠ” ëª‡ NÂ·mì¸ê°€?',
                draw: drawFishingRod
            },
            {
                name: 'ğŸ¸ ê¸°íƒ€ ì¤„ ê°ê¸°',
                text: 'ë‹¤ìŒ ê·¸ë¦¼ê³¼ ê°™ì´ ë°˜ì§€ë¦„ì´ <span class="highlight" id="length">LENGTH</span> cmì¸ ê¸°íƒ€ íŠœë‹ í˜ê·¸ì— <span class="highlight" id="force">FORCE</span> Nì˜ í˜ì„ <span class="highlight" id="angle">ANGLE</span>Â° ê°ë„ë¡œ ì‘ìš©í•  ë•Œ í˜ê·¸ì— ì‘ìš©í•˜ëŠ” ëŒë¦¼í˜ì˜ í¬ê¸°ëŠ” ëª‡ NÂ·mì¸ê°€?',
                draw: drawGuitarPeg
            },
            {
                name: 'âš™ï¸ ê¸°ì–´ì™€ ì²´ì¸',
                text: 'ë‹¤ìŒ ê·¸ë¦¼ê³¼ ê°™ì´ ë°˜ì§€ë¦„ì´ <span class="highlight" id="length">LENGTH</span> cmì¸ ê¸°ì–´ì— ì²´ì¸ì´ <span class="highlight" id="force">FORCE</span> Nì˜ í˜ìœ¼ë¡œ <span class="highlight" id="angle">ANGLE</span>Â° ê°ë„ë¡œ ë‹¹ê¸¸ ë•Œ ê¸°ì–´ì¶•ì— ì‘ìš©í•˜ëŠ” ëŒë¦¼í˜ì˜ í¬ê¸°ëŠ” ëª‡ NÂ·mì¸ê°€?',
                draw: drawGear
            },
            {
                name: 'ğŸ¡ ì‹œì†Œ',
                text: 'ë‹¤ìŒ ê·¸ë¦¼ê³¼ ê°™ì´ ì¤‘ì‹¬ìœ¼ë¡œë¶€í„° <span class="highlight" id="length">LENGTH</span> cm ë–¨ì–´ì§„ ì§€ì ì— <span class="highlight" id="force">FORCE</span> Nì˜ í˜ì„ <span class="highlight" id="angle">ANGLE</span>Â° ê°ë„ë¡œ ì‘ìš©í•  ë•Œ ì‹œì†Œì˜ ì¤‘ì‹¬ì¶•ì— ì‘ìš©í•˜ëŠ” ëŒë¦¼í˜ì˜ í¬ê¸°ëŠ” ëª‡ NÂ·mì¸ê°€?',
                draw: drawSeesaw
            }
        ];

        let currentProblem = {
            length: 20,
            force: 10,
            angle: 30,
            scenario: 0
        };

        function newProblem() {
            const lengths = [10, 15, 20, 25, 30, 40, 50];
            const forces = [5, 10, 15, 20, 25, 30];
            const angles = [30, 45, 60, 90];
            
            currentProblem.length = lengths[Math.floor(Math.random() * lengths.length)];
            currentProblem.force = forces[Math.floor(Math.random() * forces.length)];
            currentProblem.angle = angles[Math.floor(Math.random() * angles.length)];
            currentProblem.scenario = Math.floor(Math.random() * scenarios.length);
            
            const scenario = scenarios[currentProblem.scenario];
            document.getElementById('scenarioBadge').textContent = scenario.name;
            
            let problemText = scenario.text
                .replace('LENGTH', currentProblem.length)
                .replace('FORCE', currentProblem.force)
                .replace('ANGLE', currentProblem.angle);
            document.getElementById('problemText').innerHTML = problemText;
            
            document.getElementById('answer').value = '';
            document.getElementById('feedback').style.display = 'none';
            
            scenario.draw();
        }

        function drawDoor() {
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const hingeX = 80;
            const hingeY = 100;
            const doorWidth = 300;
            const doorHeight = 180;
            
            // ë¬¸
            ctx.fillStyle = '#8b7355';
            ctx.fillRect(hingeX, hingeY, doorWidth, doorHeight);
            
            // ê²½ì²©
            ctx.fillStyle = '#495057';
            for(let i = 0; i < 3; i++) {
                ctx.beginPath();
                ctx.arc(hingeX, hingeY + 40 + i * 50, 12, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // ì†ì¡ì´
            ctx.fillStyle = '#ffd700';
            ctx.beginPath();
            ctx.arc(hingeX + doorWidth - 30, hingeY + doorHeight / 2, 15, 0, Math.PI * 2);
            ctx.fill();
            
            drawForceVector(ctx, hingeX + doorWidth - 30, hingeY + doorHeight / 2);
            drawLabels(ctx, hingeX, hingeY + doorHeight / 2, doorWidth - 30, 'ê²½ì²©');
        }

        function drawFishingRod() {
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const handX = 100;
            const handY = 200;
            const rodLength = 350;
            
            // ë‚šì‹¯ëŒ€
            ctx.strokeStyle = '#8b4513';
            ctx.lineWidth = 6;
            ctx.beginPath();
            ctx.moveTo(handX, handY);
            ctx.lineTo(handX + rodLength * 0.9, handY - rodLength * 0.3);
            ctx.stroke();
            
            // ì†
            ctx.fillStyle = '#ffdbac';
            ctx.beginPath();
            ctx.arc(handX, handY, 25, 0, Math.PI * 2);
            ctx.fill();
            
            // ë‚šì‹¯ì¤„
            ctx.strokeStyle = '#4a90e2';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(handX + rodLength * 0.9, handY - rodLength * 0.3);
            ctx.lineTo(handX + rodLength * 0.9, handY + 50);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // ë¬¼ê³ ê¸°
            ctx.fillStyle = '#ff6b6b';
            ctx.beginPath();
            ctx.ellipse(handX + rodLength * 0.9, handY + 70, 20, 12, 0, 0, Math.PI * 2);
            ctx.fill();
            
            drawForceVector(ctx, handX + rodLength * 0.9, handY - rodLength * 0.3);
            
            ctx.fillStyle = '#333';
            ctx.font = 'bold 16px Arial';
            ctx.fillText(currentProblem.length + ' cm', handX + rodLength / 2, handY - rodLength * 0.15 - 10);
        }

        function drawGuitarPeg() {
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const centerX = 300;
            const centerY = 150;
            const pegRadius = 60;
            
            // ê¸°íƒ€ í—¤ë“œìŠ¤í†¡
            ctx.fillStyle = '#8b4513';
            ctx.fillRect(centerX - 150, centerY - 50, 150, 100);
            
            // í˜ê·¸ ì›íŒ
            ctx.fillStyle = '#4a4a4a';
            ctx.beginPath();
            ctx.arc(centerX, centerY, pegRadius, 0, Math.PI * 2);
            ctx.fill();
            
            // í˜ê·¸ ì¤‘ì‹¬ì¶•
            ctx.fillStyle = '#2a2a2a';
            ctx.beginPath();
            ctx.arc(centerX, centerY, 15, 0, Math.PI * 2);
            ctx.fill();
            
            // ì†ì¡ì´
            ctx.strokeStyle = '#6c757d';
            ctx.lineWidth = 8;
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.lineTo(centerX + pegRadius, centerY);
            ctx.stroke();
            
            ctx.fillStyle = '#adb5bd';
            ctx.beginPath();
            ctx.arc(centerX + pegRadius, centerY, 20, 0, Math.PI * 2);
            ctx.fill();
            
            drawForceVector(ctx, centerX + pegRadius, centerY);
            
            ctx.fillStyle = '#333';
            ctx.font = 'bold 16px Arial';
            ctx.fillText('r = ' + currentProblem.length + ' cm', centerX + 10, centerY - pegRadius - 10);
        }

        function drawGear() {
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const centerX = 250;
            const centerY = 150;
            const gearRadius = 80;
            
            // ê¸°ì–´ í†±ë‹ˆ
            ctx.fillStyle = '#6c757d';
            ctx.beginPath();
            for(let i = 0; i < 12; i++) {
                const angle = (i * 30) * Math.PI / 180;
                const x = centerX + (gearRadius + 15) * Math.cos(angle);
                const y = centerY + (gearRadius + 15) * Math.sin(angle);
                if(i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.closePath();
            ctx.fill();
            
            // ê¸°ì–´ ë³¸ì²´
            ctx.fillStyle = '#495057';
            ctx.beginPath();
            ctx.arc(centerX, centerY, gearRadius, 0, Math.PI * 2);
            ctx.fill();
            
            // ì²´ì¸ì´ ë‹¹ê¸°ëŠ” ì§€ì 
            const chainX = centerX + gearRadius;
            const chainY = centerY;
            
            // ì²´ì¸
            ctx.strokeStyle = '#2a2a2a';
            ctx.lineWidth = 6;
            ctx.beginPath();
            ctx.moveTo(chainX, chainY);
            ctx.lineTo(chainX + 100, chainY - 30);
            ctx.stroke();
            
            drawForceVector(ctx, chainX, chainY);
            
            ctx.fillStyle = '#333';
            ctx.font = 'bold 16px Arial';
            ctx.fillText('r = ' + currentProblem.length + ' cm', centerX - 40, centerY - gearRadius - 15);
        }

        function drawSeesaw() {
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const centerX = 300;
            const centerY = 180;
            const seesawLength = 300;
            
            // ë°›ì¹¨ëŒ€
            ctx.fillStyle = '#8b4513';
            ctx.beginPath();
            ctx.moveTo(centerX - 40, centerY);
            ctx.lineTo(centerX, centerY - 40);
            ctx.lineTo(centerX + 40, centerY);
            ctx.closePath();
            ctx.fill();
            
            // ì‹œì†Œ íŒì
            ctx.fillStyle = '#d4a574';
            ctx.fillRect(centerX - seesawLength/2, centerY - 50, seesawLength, 20);
            
            // ì¤‘ì‹¬ì¶•
            ctx.fillStyle = '#495057';
            ctx.beginPath();
            ctx.arc(centerX, centerY - 40, 15, 0, Math.PI * 2);
            ctx.fill();
            
            // í˜ì„ ê°€í•˜ëŠ” ì§€ì 
            const forceX = centerX + seesawLength/2 - 30;
            const forceY = centerY - 50;
            
            // ì‚¬ëŒ
            ctx.fillStyle = '#4a90e2';
            ctx.beginPath();
            ctx.arc(forceX, forceY - 30, 20, 0, Math.PI * 2);
            ctx.fill();
            ctx.fillRect(forceX - 10, forceY - 10, 20, 40);
            
            drawForceVector(ctx, forceX, forceY);
            
            ctx.fillStyle = '#333';
            ctx.font = 'bold 16px Arial';
            ctx.fillText(currentProblem.length + ' cm', centerX + 50, centerY - 60);
        }

        function drawForceVector(ctx, x, y) {
            const angleRad = (currentProblem.angle * Math.PI) / 180;
            const forceLength = 120;
            const forceVectorX = x + forceLength * Math.cos(-angleRad);
            const forceVectorY = y + forceLength * Math.sin(-angleRad);
            
            // í™”ì‚´í‘œ
            ctx.strokeStyle = '#f5576c';
            ctx.fillStyle = '#f5576c';
            ctx.lineWidth = 4;
            ctx.beginPath();
            ctx.moveTo(x, y);
            ctx.lineTo(forceVectorX, forceVectorY);
            ctx.stroke();
            
            // í™”ì‚´í‘œ ë¨¸ë¦¬
            const arrowSize = 15;
            ctx.beginPath();
            ctx.moveTo(forceVectorX, forceVectorY);
            ctx.lineTo(
                forceVectorX - arrowSize * Math.cos(-angleRad - Math.PI/6),
                forceVectorY - arrowSize * Math.sin(-angleRad - Math.PI/6)
            );
            ctx.lineTo(
                forceVectorX - arrowSize * Math.cos(-angleRad + Math.PI/6),
                forceVectorY - arrowSize * Math.sin(-angleRad + Math.PI/6)
            );
            ctx.closePath();
            ctx.fill();
            
            // ê°ë„ í‘œì‹œ
            ctx.strokeStyle = '#667eea';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(x, y, 40, 0, -angleRad, true);
            ctx.stroke();
            
            // í…ìŠ¤íŠ¸
            ctx.fillStyle = '#f5576c';
            ctx.font = 'bold 18px Arial';
            ctx.fillText('F = ' + currentProblem.force + ' N', forceVectorX + 10, forceVectorY - 10);
            
            ctx.fillStyle = '#667eea';
            ctx.fillText(currentProblem.angle + 'Â°', x + 50, y + 5);
        }

        function drawLabels(ctx, centerX, centerY, length, label) {
            ctx.fillStyle = '#333';
            ctx.font = 'bold 18px Arial';
            ctx.fillText(currentProblem.length + ' cm', centerX + length/2 - 30, centerY - 20);
            
            ctx.fillStyle = '#495057';
            ctx.font = 'bold 16px Arial';
            ctx.fillText(label, centerX - 10, centerY + 50);
        }

        function checkAnswer() {
            const userAnswer = parseFloat(document.getElementById('answer').value);
            const feedback = document.getElementById('feedback');
            
            if (isNaN(userAnswer)) {
                feedback.className = 'feedback incorrect';
                feedback.textContent = 'ë‹µì„ ì…ë ¥í•´ì£¼ì„¸ìš”!';
                feedback.style.display = 'block';
                return;
            }
            
            const r = currentProblem.length / 100;
            const F = currentProblem.force;
            const theta = (currentProblem.angle * Math.PI) / 180;
            const correctAnswer = r * F * Math.sin(theta);
            
            const tolerance = 0.05;
            
            if (Math.abs(userAnswer - correctAnswer) <= tolerance) {
                feedback.className = 'feedback correct';
                feedback.innerHTML = `ğŸ‰ ì •ë‹µì…ë‹ˆë‹¤!<br>Ï„ = ${r} m Ã— ${F} N Ã— sin(${currentProblem.angle}Â°) = ${correctAnswer.toFixed(2)} NÂ·m`;
                feedback.style.display = 'block';
            } else {
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = `âŒí‹€ë ¸ìŠµë‹ˆë‹¤.<br>ì •ë‹µ: ${correctAnswer.toFixed(2)} NÂ·m<br>í’€ì´: Ï„ = ${r} m Ã— ${F} N Ã— sin(${currentProblem.angle}Â°) = ${correctAnswer.toFixed(2)} NÂ·m`;
                feedback.style.display = 'block';
            }
        }

        document.getElementById('answer').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });

        // ì´ˆê¸° ë¬¸ì œ
        scenarios[0].draw();
    </script>
</body>
</html>